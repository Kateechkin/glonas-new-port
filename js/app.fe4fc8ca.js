(function(t){function e(e){for(var a,o,c=e[0],l=e[1],n=e[2],u=0,v=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&v.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,n||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,c=1;c<s.length;c++){var l=s[c];0!==i[l]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var n=0;n<c.length;n++)e(c[n]);var d=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0165":function(t,e,s){},"0a17":function(t,e,s){t.exports=s.p+"img/search.3f197934.svg"},"247c":function(t,e,s){t.exports=s.p+"img/CrossWhite.6c346e3d.svg"},2728:function(t,e,s){t.exports=s.p+"img/users.23e5ffe1.svg"},"2dd2":function(t,e,s){t.exports=s.p+"img/edit.f616cb3e.svg"},3637:function(t,e,s){t.exports=s.p+"img/CrossModal.29947c4a.svg"},"3c48":function(t,e,s){},"3ec3":function(t,e,s){t.exports=s.p+"img/proshivca.0e3aeb2f.svg"},"4e9d":function(t,e,s){t.exports=s.p+"img/arrow-bottom.91086baa.svg"},"4eb1":function(t,e,s){t.exports=s.p+"img/plus.7b00e990.svg"},"54f9":function(t,e,s){t.exports=s.p+"img/exit.e8a0fe25.svg"},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app",attrs:{id:"app"}},[t.$route.meta.Sidebar?e("Sidebar"):t._e(),e("router-view")],1)},r=[],o=function(){var t=this,e=t._self._c;return e("aside",{class:""+(this.is_expanded?"is-expanded":"")},[t._m(0),e("div",{staticClass:"menu"},[e("router-link",{staticClass:"button-new",attrs:{to:"/"}},[e("div",{staticClass:"menu-wrap-img"},[e("img",{staticClass:"menu-img",attrs:{src:s("2728"),alt:"users"}})]),e("span",{staticClass:"text"},[t._v("Пользователи")])]),e("router-link",{staticClass:"button-new",attrs:{to:"/testing"}},[e("div",{staticClass:"menu-wrap-img"},[e("img",{staticClass:"menu-img",attrs:{src:s("d50b"),alt:"testing"}})]),e("span",{staticClass:"text"},[t._v("Тестирование")])]),e("router-link",{staticClass:"button-new",attrs:{to:"/firmware"}},[e("div",{staticClass:"menu-wrap-img"},[e("img",{staticClass:"menu-img",attrs:{src:s("3ec3"),alt:"proshivca"}})]),e("span",{staticClass:"text"},[t._v("Прошивка")])]),e("router-link",{staticClass:"button-new",attrs:{to:"/device"}},[e("div",{staticClass:"menu-wrap-img"},[e("img",{staticClass:"menu-img-size",attrs:{src:s("8604"),alt:"proshivca"}})]),e("span",{staticClass:"text"},[t._v('"Маяк-01"')])])],1),e("div",{staticClass:"flex"})])},c=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("a5f7"),alt:"logo"}})])}],l={name:"AppSidebar",data(){return{is_expanded:!0}},methods:{ToggleMenu(){this.is_expanded=!this.is_expanded,localStorage.setItem("is_expanded",this.is_expanded)}}},n=l,d=s("2877"),u=Object(d["a"])(n,o,c,!1,null,"41f45aa2",null),v=u.exports,m={name:"App",components:{Sidebar:v}},p=m,g=(s("c9b6"),Object(d["a"])(p,i,r,!1,null,null,null)),h=g.exports,_=s("8c4f"),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"users"},[e("Header",{attrs:{title:"Пользователи",description:"Добавление и отслеживание активности"}}),t.isLoading?e("div",{staticClass:"wrap-loader-2"},[e("div",{attrs:{id:"loader"}})]):t._e(),e("div",{staticClass:"container-page"},[e("div",{staticClass:"users__block"},[e("div",{staticClass:"users__search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFIO,expression:"searchFIO"}],staticClass:"testing__input",attrs:{type:"text",placeholder:"Поиск по ФИО"},domProps:{value:t.searchFIO},on:{input:function(e){e.target.composing||(t.searchFIO=e.target.value)}}}),e("img",{staticClass:"testing__input-svg",attrs:{src:s("0a17"),alt:"search"}})]),e("div",{staticClass:"users__wrap"},[e("div",{staticClass:"users__add"},[e("button",{staticClass:"index-btn index-color",attrs:{type:"button"},on:{click:t.openModal}},[e("img",{staticClass:"index-btn__img",attrs:{src:s("4eb1"),alt:"plus"}}),t._v(" Добавить пользователя ")])])])]),e("div",{staticClass:"users__info"},[e("div",{staticClass:"card-users"},[t._l(this.paginatedData,(function(s){return e("ItemCardUser",{key:s.id,attrs:{item_user:s},on:{editItem:t.editItem}})})),[e("div",{staticClass:"pagination"},[e("button",{staticClass:"pagination__btn",attrs:{disabled:0===t.pageNumber},on:{click:function(e){return t.prevPage()}}},[e("arrow-left",{attrs:{color:this.colorArrowLeft}})],1),t._l(this.totalPages,(function(s,a){return e("li",{key:a,staticClass:"pagination-item"},[e("button",{staticClass:"pagination-item__btn number",class:{"active-num":t.pageNumber===a},attrs:{type:"button"},on:{click:function(e){return t.onClickPage(s)}}},[t._v(" "+t._s(s)+" ")])])})),e("button",{staticClass:"pagination__btn",attrs:{disabled:t.pageNumber>=t.pageCount-1},on:{click:function(e){return t.nextPage()}}},[e("arrow-right",{attrs:{color:this.colorArrowRight}})],1)],2)]],2),e("div",{staticClass:"statistics-user"},[e("StatisticsBlockUser")],1)])]),t.isOpenModalAddUser?e("ModalAddUser",{on:{close:function(e){t.isOpenModalAddUser=!1}}}):t._e(),t.isOpenModalEditUser?e("ModalEditUser",{attrs:{item_user:this.item_user},on:{close:function(e){t.isOpenModalEditUser=!1}}}):t._e()],1)},C=[],f=(s("14d9"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-container"},[e("div",{staticClass:"header"},[e("div",{staticClass:"wrap-title"},[e("div",{staticClass:"title"},[e("p",{staticClass:"title__text"},[t._v(" "+t._s(t.title)+" "),t.imei?e("span",{staticClass:"number"},[t._v(t._s(t.imei))]):t._e()])]),e("div",{staticClass:"description"},[e("p",{staticClass:"description__text"},[t._v(t._s(t.description))])])]),e("div",{staticClass:"wrap-profile"},[e("router-link",{attrs:{to:"/profile"}},[e("div",{staticClass:"profile-mini__icon",attrs:{tooltip:"Профиль"}},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:s("6e8b"),alt:"user"}})]),e("div",{staticClass:"profile-mini__text"},[e("p",{staticClass:"text-profile"},[t._v(t._s(t.infoUser.fio))])]),e("div",{staticClass:"profile-mini__arrow"},[e("img",{attrs:{src:s("4e9d"),alt:"arrow"}})])])]),e("div",{staticClass:"profile-mini__exit",attrs:{tooltip:"Выход"},on:{click:t.exit}},[e("img",{attrs:{src:s("54f9"),alt:"exit"}})])],1)])])}),S=[],D=s("cee4");const w=t=>{try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.log("Error getting data from localStorage",e),null}},F=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(s){console.log("Error saving data from localStorage",s)}};D["a"].defaults.baseURL="http://80.64.169.167:9398/api/1",D["a"].interceptors.response.use(t=>(console.log(t,"response inter"),401===t.status&&alert("You are not authorized"),t),t=>{var e,s;return console.log(t,"error resp",null===(e=t.response)||void 0===e?void 0:e.status),401===(null===(s=t.response)||void 0===s?void 0:s.status)&&(localStorage.removeItem("accessTokenStoreGlonas"),localStorage.removeItem("infoUserApplicationGlonas"),Gi.push({name:"Login"})),t.response&&t.response.data?Promise.reject(t.response.data):Promise.reject(t.message)}),D["a"].interceptors.request.use(t=>{const e=w("accessTokenStoreGlonas"),s=e?""+e:"";return""===s?console.log(t):t.headers.Authorization=s,console.log(t,"request"),t},(function(t){return console.log("ПЕРЕКЛЮЧИСЬ НА НОВЫЙ base url"),Promise.reject(t)}));var A=D["a"];const k=t=>A.post("/login",t,{useCredentails:!0});var I={login:k};const x={isLoading:!1,token:w("accessTokenStoreGlonas")||"",isAuthenticated:!1,validationErrors:null,infoUser:w("infoUserApplicationGlonas")||null},E={loginStart:"[auth] loginStart",loginSuccess:"[auth] loginSuccess",loginFailure:"[auth] loginFailure",exitLoginSuccess:"[auth] exit success"},T={login:"[auth] login",exitLogin:"[auth] exit"},y={[E.loginStart](t){t.isAuthenticated=!1,t.validationErrors=null,t.isLoading=!0},[E.loginSuccess](t,e){console.log(e),t.isAuthenticated=!0,t.token=e.token,t.infoUser=e.userInfo,t.isLoading=!1},[E.loginFailure](t,e){t.isAuthenticated=!1,t.validationErrors=e.message,t.isLoading=!1},[E.exitLoginSuccess](t){t.token="",t.isAuthenticated=!1}},O={[T.exitLogin](t){t.commit(E.exitLoginSuccess),localStorage.removeItem("accessTokenStoreGlonas"),localStorage.removeItem("infoUserApplicationGlonas"),delete D["a"].defaults.headers.common["Authorization"],Gi.push({name:"Login"})},[T.login](t,e){return new Promise(s=>{t.commit(E.loginStart),I.login(e).then(e=>{"SUCCESS"===e.data.status?(window.localStorage.setItem("accessTokenStoreGlonas",e.data.result.token),F("accessTokenStoreGlonas",e.data.result.token),t.commit(E.loginSuccess,e.data.result),F("infoUserApplicationGlonas",e.data.result.userInfo),s(e.data)):t.commit(E.loginFailure,e.data)}).catch(e=>{t.commit(E.loginFailure,e),console.log("ошибка",e)})})}};var P={state:x,mutations:y,actions:O},R=s("2f62"),U={name:"AppHeader",props:{title:{type:String,default(){return{}}},description:{type:String,default(){return{}}},imei:{type:String,required:!1}},computed:{...Object(R["b"])({infoUser:t=>t.auth.infoUser})},methods:{exit(){this.$store.dispatch(T.exitLogin).then(()=>{this.$router.push({name:"Login"})}).catch(t=>{console.log("Ошибка",t)})}}},M=U,L=Object(d["a"])(M,f,S,!1,null,null,null),$=L.exports,N=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container max-width"},[e("div",{staticClass:"modal-header"},[e("p",{staticClass:"title-modal"},[t._v("Добавление пользователя")]),e("div",{staticClass:"modal-header__cross",on:{click:function(e){return t.$emit("close")}}},[e("img",{attrs:{src:s("3637"),alt:"cross"}})])]),t.isSubmitted&&this.$v.$invalid?e("div",{staticClass:"error"},[e("p",{staticClass:"error-text"},[t._v("*Заполните все пустые поля")])]):t._e(),t.isSubmitted&&this.isCheckPassword?e("div",{staticClass:"error"},[e("p",{staticClass:"error-text"},[t._v("**Пароли не совпадают")])]):t._e(),e("div",{staticClass:"error-messages"},[t.validationErrors?e("ValidationErrors",{attrs:{"validation-errors":t.validationErrors}}):t._e()],1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"lastname"}},[t._v("Фамилия")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.lastname.$error},attrs:{type:"text",name:"lastname",placeholder:"Введите фамилию"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),t.isSubmitted&&t.$v.lastname.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"name"}},[t._v("Имя")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.name.$error},attrs:{type:"text",name:"name",placeholder:"Введите имя"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t.isSubmitted&&t.$v.name.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"surname"}},[t._v("Отчество")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.surname.$error},attrs:{type:"text",name:"surname",placeholder:"Введите отчество"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}}),t.isSubmitted&&t.$v.surname.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.email.$error},attrs:{type:"text",name:"email",placeholder:"Введите email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.isSubmitted&&t.$v.email.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"phone"}},[t._v("Телефон")]),e("the-mask",{ref:"phoneNumber",staticClass:"input-number",attrs:{mask:["+#(###)-###-##-##"],placeholder:"+7-(***)-(***)-****"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"role"}},[t._v("Назначить роль")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"select",class:{"error-border-input":t.isSubmitted&&t.$v.role.$error},attrs:{name:"role",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.role=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"TESTER"}},[t._v("Тестирование")]),e("option",{attrs:{value:"FIRMWARE"}},[t._v("Прошивка")]),e("option",{attrs:{value:"STICKERS"}},[t._v("Печать")]),e("option",{attrs:{value:"ADMIN"}},[t._v("Администратор")])])]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"phone"}},[t._v("Придумайте пароль")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.password.$error},attrs:{type:"password",name:"password",placeholder:"Придумайте пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.isSubmitted&&t.$v.password.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"phone"}},[t._v("Повторите пароль")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.repiatPassword,expression:"repiatPassword"}],staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.repiatPassword.$error},attrs:{type:"password",name:"repiatPassword",placeholder:"Повторите пароль"},domProps:{value:t.repiatPassword},on:{input:function(e){e.target.composing||(t.repiatPassword=e.target.value)}}}),t.isSubmitted&&t.$v.repiatPassword.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"modal-footer__btn"},[e("button",{staticClass:"index-btn lite-color",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" Отменить ")])]),e("div",{staticClass:"modal-footer__btn"},[e("button",{staticClass:"index-btn index-color",attrs:{type:"button"},on:{click:t.onSubmitUserInfo}},[t._v(" Сохранить ")])])])])])])])},B=[],j=s("3a60"),q=s.n(j),W=s("b5ae");const z=t=>A.post("/registration",t),V=()=>A.get("/users"),K=t=>A.post("/delete/user/"+t),G=t=>A.post("/edit/user",t),Z=t=>A.get("/search/fio/"+t);var H={addUser:z,getUsers:V,deleteUser:K,editUser:G,getSearchFio:Z};const J={isLoading:!1,validationErrors:null,allUsers:[],onlineUsers:[],offlineUsers:[]},X={addUserStart:"[users] addUserStart",addUserSuccess:"[users] addUserSuccess",addUserFailure:"[users] addUserFailure",getUsersStart:"[users] getUsersStart",getUsersSuccess:"[users] getUsersSuccess",getUsersFailure:"[users] getUsersFailure",deleteUserStart:"[users] deleteUserStart",deleteUserSuccess:"[users] deleteUserSuccess",deleteUserFailure:"[users] deleteUserFailure",editUserStart:"[users] editUserStart",editUserSuccess:"[users] editUserSuccess",editUserFailure:"[users]  editUserFailure",getSearchFioStart:"[users] getSearchFioStart",getSearchFioSuccess:"[users] getSearchFioSuccess",getSearchFioFailure:"[users]  getSearchFioFailure"},Y={addUser:"[users] addUser",getUsers:"[users] getUsers",deleteUser:"[users] deleteUser",editUser:"[users]  editUser",getSearchFio:"[users] getSearchFio"},Q={[X.addUserStart](t){t.validationErrors=null,t.isLoading=!0},[X.addUserSuccess](t,e){t.onlineUsers=[],t.offlineUsers=[],t.isLoading=!1,t.allUsers=e,t.allUsers.map(e=>{"ONLINE"===e.status?t.onlineUsers.push(e):"OFFLINE"===e.status&&t.offlineUsers.push(e)})},[X.addUserFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[X.deleteUserStart](t){t.validationErrors=null,t.isLoading=!0},[X.deleteUserSuccess](t,e){t.onlineUsers=[],t.offlineUsers=[],t.isLoading=!1,t.allUsers=e,t.allUsers.map(e=>{"ONLINE"===e.status?t.onlineUsers.push(e):"OFFLINE"===e.status&&t.offlineUsers.push(e)})},[X.deleteUserFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[X.editUserStart](t){t.validationErrors=null,t.isLoading=!0},[X.editUserSuccess](t,e){t.onlineUsers=[],t.offlineUsers=[],t.isLoading=!1,t.allUsers=e,t.allUsers.map(e=>{"ONLINE"===e.status?t.onlineUsers.push(e):"OFFLINE"===e.status&&t.offlineUsers.push(e)})},[X.editUserFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[X.getUsersStart](t){t.validationErrors=null,t.isLoading=!0},[X.getUsersSuccess](t,e){t.onlineUsers=[],t.offlineUsers=[],t.isLoading=!1,t.allUsers=e,t.allUsers.map(e=>{"ONLINE"===e.status?t.onlineUsers.push(e):"OFFLINE"===e.status&&t.offlineUsers.push(e)})},[X.getUsersFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[X.getSearchFioStart](t){t.validationErrors=null,t.isLoading=!0},[X.getSearchFioSuccess](t,e){t.isLoading=!1,t.allUsers=e},[X.getSearchFioFailure](t,e){t.validationErrors=e.message,t.isLoading=!1}},tt={[Y.addUser](t,e){return new Promise(s=>{t.commit(X.addUserStart),H.addUser(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(X.addUserSuccess,e.data.result),s(e.data)):t.commit(X.addUserFailure,e.data)}).catch(e=>{t.commit(X.addUserFailure,e),console.log("ошибка",e)})})},[Y.getUsers](t){return new Promise(e=>{t.commit(X.getUsersStart),H.getUsers().then(s=>{"SUCCESS"===s.data.status?(t.commit(X.getUsersSuccess,s.data.result),e(s.data)):t.commit(X.getUsersFailure,s.data)}).catch(e=>{t.commit(X.getUsersFailure,e),console.log("ошибка",e)})})},[Y.deleteUser](t,e){return new Promise(s=>{t.commit(X.deleteUserStart),H.deleteUser(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(X.deleteUserSuccess,e.data.result),s(e.data)):t.commit(X.deleteUserFailure,e.data)}).catch(e=>{t.commit(X.deleteUserFailure,e),console.log("ошибка",e)})})},[Y.editUser](t,e){return new Promise(s=>{t.commit(X.editUserStart),H.editUser(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(X.editUserSuccess,e.data.result),s(e.data)):t.commit(X.editUserFailure,e.data)}).catch(e=>{t.commit(X.editUserFailure,e),console.log("ошибка",e)})})},[Y.getSearchFio](t,e){return new Promise(s=>{t.commit(X.getSearchFioStart),H.getSearchFio(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(X.getSearchFioSuccess,e.data.result),s(e.data)):t.commit(X.getSearchFioFailure,e.data)}).catch(e=>{t.commit(X.getSearchFioFailure,e),console.log("ошибка",e)})})}};var et={state:J,mutations:Q,actions:tt},st=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"validate"},[e("li",{staticClass:"validate-info"},[t._v(" "+t._s(t.validationErrors)+" ")])])},at=[],it={name:"AppValidationErrors",props:{validationErrors:{type:String,required:!0}},computed:{}},rt=it,ot=Object(d["a"])(rt,st,at,!1,null,null,null),ct=ot.exports,lt={name:"AppModalAddUser",data(){return{name:"",phone:"",surname:"",lastname:"",email:"",role:"",isSubmitted:!1,password:"",repiatPassword:"",isCheckPass:!1}},validations:{name:{required:W["required"]},surname:{required:W["required"]},lastname:{required:W["required"]},email:{required:W["required"]},role:{required:W["required"]},password:{required:W["required"]},repiatPassword:{required:W["required"]}},components:{TheMask:j["TheMask"],ValidationErrors:ct},props:{},computed:{...Object(R["b"])({validationErrors:t=>t.users.validationErrors}),isCheckPassword(){return this.password!==this.repiatPassword||""===this.password&&""===this.repiatPassword}},methods:{onSubmitUserInfo(){if(this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid)return console.log("не ок");this.$store.dispatch(Y.addUser,{name:this.name,lastName:this.lastname,surname:this.surname,email:this.email,role:this.role,contactPhone:this.phone,password:this.password}).then(()=>{this.$store.dispatch(Y.getUsers).then(()=>{}).catch(t=>{console.log("Ошибка",t)}),this.$emit("close")}).catch(t=>{console.log("Ошибка",t)})}}},nt=lt,dt=Object(d["a"])(nt,N,B,!1,null,null,null),ut=dt.exports,vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-card-user"},[e("div",{staticClass:"item-card-user__about-people"},[e("div",{staticClass:"indicator-work",class:t.defineColorStatus},[e("div",{staticClass:"crush",on:{click:function(e){return t.deleteItem()}}},[e("img",{attrs:{src:s("9961"),alt:"trash"}})]),e("div",{staticClass:"edit",on:{click:function(e){return t.editItem()}}},[e("img",{attrs:{src:s("2dd2"),alt:"edit"}})])]),e("div",{staticClass:"item-card-user__about-people-info"},[e("p",{staticClass:"index-text400 center"},[t._v(" "+t._s(t.item_user.lastName)+" "+t._s(t.item_user.name)+" "+t._s(t.item_user.surname)+" ")]),e("p",{staticClass:"index-text500"},[t._v(t._s(this.role))])])]),e("div",{staticClass:"item-card-user__info"},[e("div",{staticClass:"item-card-user__info-text"},[t._m(0),e("p",{staticClass:"index-number400"},[t._v(t._s(t.item_user.ipAddress))])]),e("div",{staticClass:"item-card-user__info-text"},[t._m(1),e("p",{staticClass:"index-number400"},[t._v(t._s(t.item_user.lastEditTime))])])]),e("div",{staticClass:"item-card-user__status"},[e("div",{staticClass:"curcle",class:t.defineColorStatus}),e("p",{staticClass:"index-text500"},[t._v(t._s(this.defineNameStatus))])]),t.isModalDeleteOpen?e("ModalDeleteUser",{attrs:{item_user:this.item_user},on:{close:function(e){t.isModalDeleteOpen=!1}}}):t._e()],1)},mt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-card-user__wrap-text"},[e("p",{staticClass:"index-text500"},[t._v("IP адрес:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-card-user__wrap-text"},[e("p",{staticClass:"index-text500"},[t._v("Время последнего взаимодействия:")])])}],pt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container mini-width"},[e("div",{staticClass:"modal-header"},[e("p",{staticClass:"title-modal"},[t._v("Удаление пользователя")]),e("div",{staticClass:"modal-header__cross",on:{click:function(e){return t.$emit("close")}}},[e("img",{attrs:{src:s("3637"),alt:"cross"}})])]),e("div",{staticClass:"modal-body-mini"},[e("p",{staticClass:"label-for-input"},[t._v(" Вы действительно хотите удалить данного пользователя? ")])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"modal-footer__btn"},[e("button",{staticClass:"index-btn lite-color",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" Нет ")])]),e("div",{staticClass:"modal-footer__btn"},[e("button",{staticClass:"index-btn index-color",attrs:{type:"button"},on:{click:t.onDeleteUserInfo}},[t._v(" Да ")])])])])])])])},gt=[],ht={name:"AppModalAddUser",data(){return{}},props:{item_user:{type:Object,default(){return{}}}},methods:{onDeleteUserInfo(){this.$store.dispatch(Y.deleteUser,this.item_user.userId).then(()=>{this.$emit("close")}).catch(t=>{console.log("Ошибка",t)})}}},_t=ht,bt=Object(d["a"])(_t,pt,gt,!1,null,null,null),Ct=bt.exports,ft={components:{ModalDeleteUser:Ct},name:"AppItemCardUser",data(){return{isModalDeleteOpen:!1}},props:{item_user:{type:Object,default(){return{}}}},computed:{role(){return"FIRMWARE"===this.item_user.role?"Прошивка":"TESTER"===this.item_user.role?"Тестирование":"STICKERS"===this.item_user.role?"Печать":"ADMIN"===this.item_user.role?"Администратор":"Не определено"},defineNameStatus(){return"ONLINE"===this.item_user.status?"Онлайн":"Офлайн"},defineColorStatus(){return{success:"ONLINE"===this.item_user.status,danger:"OFFLINE"===this.item_user.status}}},methods:{deleteItem(){this.isModalDeleteOpen=!this.isModalDeleteOpen},editItem(){this.$emit("editItem",this.item_user)}}},St=ft,Dt=Object(d["a"])(St,vt,mt,!1,null,null,null),wt=Dt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-block"},[t._m(0),e("div",{staticClass:"statistics-block__body"},[e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Число пользователей:")]),e("div",{staticClass:"block-gradient"},[e("p",{staticClass:"text-white700 number"},[t._v(t._s(this.allUsers.length))])])]),e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Кол-во онлайн:")]),e("div",{staticClass:"block-gradient"},[e("p",{staticClass:"text-white700 number"},[t._v(t._s(this.onlineUsers.length))])])]),e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Кол-во оффлайн:")]),e("div",{staticClass:"block-gradient"},[e("p",{staticClass:"text-white700 number"},[t._v(t._s(this.offlineUsers.length))])])])])])},At=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-block__title"},[e("p",{staticClass:"text-white700"},[t._v("Статистика работы")])])}],kt={name:"AppStatisticsBlockUser",data(){return{}},computed:{...Object(R["b"])({allUsers:t=>t.users.allUsers,onlineUsers:t=>t.users.onlineUsers,offlineUsers:t=>t.users.offlineUsers})}},It=kt,xt=Object(d["a"])(It,Ft,At,!1,null,null,null),Et=xt.exports,Tt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container max-width"},[e("div",{staticClass:"modal-header"},[e("p",{staticClass:"title-modal"},[t._v("Изменение пользователя")]),e("div",{staticClass:"modal-header__cross",on:{click:function(e){return t.$emit("close")}}},[e("img",{attrs:{src:s("3637"),alt:"cross"}})])]),t.isSubmitted&&this.$v.$invalid?e("div",{staticClass:"error"},[e("p",{staticClass:"error-text"},[t._v("*Заполните все пустые поля")])]):t._e(),e("div",{staticClass:"error-messages"},[t.validationErrors?e("ValidationErrors",{attrs:{"validation-errors":t.validationErrors}}):t._e()],1),e("form",{attrs:{id:"#modalEditUser"}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"lastName"}},[t._v("Фамилия")]),e("input",{staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.putData.lastName.$error},attrs:{type:"text",name:"lastName",placeholder:"Введите фамилию"},domProps:{value:t.item_user.lastName}}),t.isSubmitted&&t.$v.putData.lastName.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"name"}},[t._v("Имя")]),e("input",{staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.putData.name.$error},attrs:{type:"text",name:"name",placeholder:"Введите имя"},domProps:{value:t.item_user.name}}),t.isSubmitted&&t.$v.putData.name.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"surname"}},[t._v("Отчество")]),e("input",{staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.putData.surname.$error},attrs:{type:"text",name:"surname",placeholder:"Введите отчество"},domProps:{value:t.item_user.surname}}),t.isSubmitted&&t.$v.putData.surname.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"email"}},[t._v("Email")]),e("input",{staticClass:"input-text",class:{"error-border-input":t.isSubmitted&&t.$v.putData.email.$error},attrs:{type:"text",name:"email",placeholder:"Введите email"},domProps:{value:t.item_user.email}}),t.isSubmitted&&t.$v.putData.email.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()]),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"phone"}},[t._v("Телефон")]),e("the-mask",{ref:"phoneNumber",staticClass:"input-number",class:{"error-border-input":t.isSubmitted&&t.$v.putData.contactPhone.$error},attrs:{mask:["+#(###)-###-##-##"],placeholder:"+7-(***)-(***)-****",name:"contactPhone",value:t.item_user.contactPhone}}),t.isSubmitted&&t.$v.putData.contactPhone.$error?e("img",{staticClass:"wrapValidationInput__error",attrs:{src:s("ec4e"),alt:"error"}}):t._e()],1),e("div",{staticClass:"modal-body__wrap-input"},[e("label",{staticClass:"label-for-input",attrs:{for:"role"}},[t._v("Назначить роль")]),e("select",{staticClass:"select",class:{"error-border-input":t.isSubmitted&&t.$v.putData.role.$error},attrs:{name:"role"},domProps:{value:t.item_user.role}},[e("option",{attrs:{value:"TESTER"}},[t._v("Тестирование")]),e("option",{attrs:{value:"FIRMWARE"}},[t._v("Прошивка")]),e("option",{attrs:{value:"STICKERS"}},[t._v("Печать")]),e("option",{attrs:{value:"ADMIN"}},[t._v("Администратор")])])])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"modal-footer__btn"},[e("button",{staticClass:"index-btn lite-color",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" Отменить ")])]),e("div",{staticClass:"modal-footer__btn"},[e("button",{staticClass:"index-btn index-color",attrs:{type:"button"},on:{click:t.safeInfoUser}},[t._v(" Сохранить ")])])])])])])])])},yt=[],Ot={name:"AppModalEditUser",data(){return{isSubmitted:!1,putData:[]}},validations:{putData:{name:{required:W["required"]},surname:{required:W["required"]},lastName:{required:W["required"]},email:{required:W["required"]},role:{required:W["required"]},contactPhone:{required:W["required"]}}},components:{TheMask:j["TheMask"],ValidationErrors:ct},props:{item_user:{type:Object,default(){return{}}}},computed:{...Object(R["b"])({validationErrors:t=>t.users.validationErrors})},methods:{safeInfoUser(){const t=new FormData(document.getElementById("#modalEditUser"));this.putData=[];for(let[e,s]of t)this.putData={...this.putData,[e]:s},console.log([e],s);if(this.putData={...this.putData,userId:this.item_user.userId},this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid)return console.log("не ок");this.$store.dispatch(Y.editUser,this.putData).then(()=>{this.$emit("close")}).catch(t=>{console.log("Ошибка",t)})}}},Pt=Ot,Rt=Object(d["a"])(Pt,Tt,yt,!1,null,null,null),Ut=Rt.exports,Mt=function(){var t=this,e=t._self._c;return e("svg",{staticStyle:{cursor:"pointer"},attrs:{width:"7",height:"13",viewBox:"0 0 7 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M0.22 7.01673C0.0793075 6.87621 0.000175052 6.68557 0 6.48673V6.10673C0.00230401 5.90831 0.081116 5.71845 0.22 5.57673L5.36 0.446727C5.45388 0.352071 5.58168 0.298828 5.715 0.298828C5.84832 0.298828 5.97612 0.352071 6.07 0.446727L6.78 1.15673C6.87406 1.24889 6.92707 1.37504 6.92707 1.50673C6.92707 1.63842 6.87406 1.76456 6.78 1.85673L2.33 6.29673L6.78 10.7367C6.87466 10.8306 6.9279 10.9584 6.9279 11.0917C6.9279 11.225 6.87466 11.3528 6.78 11.4467L6.07 12.1467C5.97612 12.2414 5.84832 12.2946 5.715 12.2946C5.58168 12.2946 5.45388 12.2414 5.36 12.1467L0.22 7.01673Z",fill:t.color}})])},Lt=[],$t={name:"AppArrowLeft",props:{color:{type:String,required:!1}}},Nt=$t,Bt=Object(d["a"])(Nt,Mt,Lt,!1,null,null,null),jt=Bt.exports,qt=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"7",height:"13",viewBox:"0 0 7 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M6.70773 7.01697C6.84843 6.87645 6.92756 6.68582 6.92773 6.48697V6.10697C6.92543 5.90856 6.84662 5.71869 6.70773 5.57697L1.56773 0.446971C1.47385 0.352315 1.34605 0.299072 1.21273 0.299072C1.07942 0.299072 0.951618 0.352315 0.857734 0.446971L0.147734 1.15697C0.0536699 1.24914 0.000662804 1.37528 0.000662804 1.50697C0.000662804 1.63866 0.0536699 1.76481 0.147734 1.85697L4.59773 6.29697L0.147734 10.737C0.0530777 10.8309 -0.000164986 10.9587 -0.000164986 11.092C-0.000164986 11.2253 0.0530777 11.3531 0.147734 11.447L0.857734 12.147C0.951618 12.2416 1.07942 12.2949 1.21273 12.2949C1.34605 12.2949 1.47385 12.2416 1.56773 12.147L6.70773 7.01697Z",fill:t.color}})])},Wt=[],zt={name:"AppArrowRight",props:{color:{type:String,required:!1}}},Vt=zt,Kt=Object(d["a"])(Vt,qt,Wt,!1,null,null,null),Gt=Kt.exports,Zt={components:{Header:$,ItemCardUser:wt,StatisticsBlockUser:Et,ModalAddUser:ut,ModalEditUser:Ut,ArrowLeft:jt,ArrowRight:Gt},name:"AppUsers",data(){return{isOpenModalAddUser:!1,isOpenModalEditUser:!1,item_user:"",currentPage:1,pageNumber:0,title:"Пользователи",searchFIO:""}},props:{size:{type:Number,required:!1,default:7},maxVisibleButtons:{type:Number,required:!1,default:5}},methods:{addUser(){console.log()},openModal(){this.isOpenModalAddUser=!this.isOpenModalAddUser},editItem(t){this.isOpenModalEditUser=!this.isOpenModalEditUser,this.item_user=t},onClickPage(t){this.pageNumber=t-1},nextPage(){this.pageNumber++},prevPage(){this.pageNumber--}},computed:{...Object(R["b"])({allUsers:t=>t.users.allUsers,isLoading:t=>t.users.isLoading,token:t=>t.auth.token,infoUser:t=>t.auth.infoUser,isConnected:t=>t.socket.isConnected}),totalPages(){return this.allUsers!==[]?Math.ceil(this.allUsers.length/this.size):0},searchFIOReact(){return this.searchFIO},paginatedData(){const t=this.pageNumber*this.size,e=t+this.size;return this.allUsers.slice(t,e)},pageCount(){if(this.allUsers!==[]){let t=this.allUsers.length,e=this.size;return Math.ceil(t/e)}return 0},colorArrowLeft(){return 0===this.pageNumber?"#7C8DB5":"#192c8c"},colorArrowRight(){return this.pageNumber>=this.pageCount-1?"#7C8DB5":"#192c8c"}},watch:{searchFIOReact(){let t=this.searchFIOReact;""!==t?this.$store.dispatch(Y.getSearchFio,t).then(()=>{}).catch(t=>{console.log("Ошибка",t)}):this.$store.dispatch(Y.getUsers).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},beforeMount(){document.title=this.title},beforeUpdate(){document.title=this.title},mounted(){"undefined"!==this.token&&""!==this.token&&null!==this.infoUser||this.$router.push({name:"Login"}),this.$store.dispatch(Y.getUsers).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},Ht=Zt,Jt=Object(d["a"])(Ht,b,C,!1,null,null,null),Xt=Jt.exports,Yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-login-new"},[t.isLoading?e("div",{staticClass:"wrap-loader"},[e("div",{attrs:{id:"loader"}})]):t._e(),e("div",{staticClass:"login__form"},[t._m(0),e("div",{staticClass:"form-login"},[t._m(1),e("div",{staticClass:"error-messages"},[t.validationErrors?e("AppValidationErrors",{attrs:{"validation-errors":t.validationErrors}}):t._e()],1),e("form",{staticClass:"form-login__form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",{staticClass:"form-login__input-wrap"},[e("p",{staticClass:"login-text",attrs:{for:"email"}},[t._v("Логин")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"login-input",attrs:{type:"text",placeholder:"Логин",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("fieldset",{staticClass:"form-login__input-wrap"},[e("p",{staticClass:"login-text",attrs:{for:"password"}},[t._v("Пароль")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login-input",attrs:{type:"password",name:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"form-login__submit"},[e("input",{staticClass:"login-btn",attrs:{type:"button",value:"Войти",disabled:!this.email||!this.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit.apply(null,arguments)},click:function(e){return t.onSubmit()}}})])])])]),t._m(2)])},Qt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo__mobile"},[e("img",{attrs:{src:s("a5f7"),alt:"logo"}}),e("div",{staticClass:"info-block__title"},[e("p",{staticClass:"info-block__title-text"},[t._v("Производственный мониторинг")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-login__title"},[e("p",{staticClass:"form-login__title-text"},[t._v("Вход в систему")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"login__info"},[e("div",{staticClass:"info-block"},[e("div",{staticClass:"info-block__logo"},[e("img",{attrs:{src:s("a5f7"),alt:"logo"}})]),e("div",{staticClass:"info-block__title"},[e("p",{staticClass:"info-block__title-text"},[t._v("Производственный мониторинг")])]),e("div",{staticClass:"info-block__subscribe"},[e("p",{staticClass:"info-block__subscribe-text"},[t._v(" Центр производственного мониторинга Дальнего Востока ")])])])])}],te={name:"AppLogin",data(){return{email:"",password:"",title:"Авторизация"}},components:{AppValidationErrors:ct},computed:{...Object(R["b"])({validationErrors:t=>t.auth.validationErrors,isLoading:t=>t.auth.isLoading})},methods:{onSubmit(){this.$store.dispatch(T.login,{email:this.email,password:this.password}).then(()=>{null===this.validationErrors&&this.$router.push({name:"Users"})}).catch(t=>{console.log("Ошибка",t)})}},beforeMount(){document.title=this.title},beforeUpdate(){document.title=this.title}},ee=te,se=Object(d["a"])(ee,Yt,Qt,!1,null,null,null),ae=se.exports,ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"testing"},[e("Header",{attrs:{title:"Тестирование",description:"Анализ тестирования блоков"}}),e("div",{staticClass:"container-page"},[e("div",{staticClass:"data-tab"},[e("div",{staticClass:"data-tab__wrap"},[e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveTest},on:{click:function(e){return t.activeBlock("test")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveTest}},[t._v(" Тесты ")])]),e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveReport},on:{click:function(e){return t.activeBlock("report")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveReport}},[t._v(" Отчеты ")])]),e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveStatistics},on:{click:function(e){return t.activeBlock("statistics")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveStatistics}},[t._v(" Статистика ")])])])]),this.isActiveTest?e("div",{staticClass:"testing__search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchIMEIs,expression:"searchIMEIs"}],staticClass:"testing__input number",attrs:{type:"text",placeholder:"Поиск по IMEI"},domProps:{value:t.searchIMEIs},on:{input:function(e){e.target.composing||(t.searchIMEIs=e.target.value)}}}),e("img",{staticClass:"testing__input-svg",attrs:{src:s("0a17"),alt:"search"}})]):t._e(),this.isActiveTest?e("div",{staticClass:"testing__table-container"},[e("TableTesting",{attrs:{imei:t.searchIMEIs,pagination_data:this.paginatedData}}),[e("pagination",{attrs:{"total-pages":this.totalPages,"per-page":10,"current-page":t.currentPage,pageCount:t.pageCount},on:{pagechanged:t.onPageChange}})]],2):t._e(),this.isActiveReport?e("div",{staticClass:"testing__report-container"},[e("testing-active-report")],1):t._e(),this.isActiveStatistics?e("div",{staticClass:"testing__statistics-container"},[e("testing-active-statistics")],1):t._e()])],1)},re=[],oe=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table-testing"},[t._m(0),e("tbody",{staticClass:"tbody"},[0!==this.pagination_data.length?t._l(this.pagination_data,(function(t,s){return e("ItemTableTesting",{key:s,attrs:{item_test:t,idx:s}})})):t._e(),0===this.pagination_data.length&&this.isLoading?[t._m(1),t._m(2)]:t._e(),0!==this.pagination_data.length||this.isLoading?t._e():[t._m(3)]],2)])},ce=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead"},[e("tr",{staticClass:"tr-info"},[e("th",{staticClass:"th",staticStyle:{padding:"0px 0px 0px 64px"},attrs:{colspan:"4"}},[t._v(" Об устройстве ")]),e("th",{staticClass:"th",attrs:{colspan:"7"}},[t._v("Данные проверки тестирования")])]),e("tr",{staticClass:"tr-transponent"},[e("th",{staticClass:"th",attrs:{colspan:"11"}})]),e("tr",{staticClass:"tr"},[e("th",{staticClass:"th"},[t._v("№")]),e("th",{staticClass:"th"},[t._v("IMEI")]),e("th",{staticClass:"th"},[t._v("ФИО")]),e("th",{staticClass:"th"},[t._v("Дата тестирования")]),e("th",{staticClass:"th",attrs:{tooltip:"Провека светодиодов на кнопке SOS и доп. функции"}},[t._v(" ПС ")]),e("th",{staticClass:"th",attrs:{tooltip:"Включить/выключить зажигание"}},[t._v("ВВЗ")]),e("th",{staticClass:"th",attrs:{tooltip:"Проверка внутреннего аккумулятова"}},[t._v("ПВА")]),e("th",{staticClass:"th",attrs:{tooltip:"Проверка датчика аварий"}},[t._v("ПДА")]),e("th",{staticClass:"th",attrs:{tooltip:"Проверка приемкика gnss"}},[t._v("GNSS")]),e("th",{staticClass:"th",attrs:{tooltip:"Проверка внутренней памяти"}},[t._v("ПВП")]),e("th",{staticClass:"th",attrs:{tooltip:"Проверка микрофона"}},[t._v("ПМ")])])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-transponent"},[e("th",{staticClass:"th",attrs:{colspan:"11"}})])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-loader"},[e("th",{attrs:{colspan:"11"}},[e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"error"},[e("p",{staticClass:"error-text"},[t._v("*Устройств по данному IMEI не найдено")])])}],le=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-info-body"},[e("td",{staticClass:"td number"},[t._v(t._s(t.idx+1))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_test.imei))]),e("td",{staticClass:"td"},[t._v(t._s(t.item_test.fio))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_test.timeTest))]),e("td",{staticClass:"td"},[t.item_test.led?e("img",{attrs:{src:s("5803"),alt:"OK"}}):t.item_test.led?e("img",{attrs:{src:s("dbd7"),alt:"questions"}}):e("img",{attrs:{src:s("ba14"),alt:"CROSS"}})]),e("td",{staticClass:"td"},[t.item_test.ignition?e("img",{attrs:{src:s("5803"),alt:"OK"}}):t.item_test.ignition?e("img",{attrs:{src:s("dbd7"),alt:"questions"}}):e("img",{attrs:{src:s("ba14"),alt:"CROSS"}})]),e("td",{staticClass:"td"},[t.item_test.battery?e("img",{attrs:{src:s("5803"),alt:"OK"}}):t.item_test.battery?e("img",{attrs:{src:s("dbd7"),alt:"questions"}}):e("img",{attrs:{src:s("ba14"),alt:"CROSS"}})]),e("td",{staticClass:"td"},[t.item_test.crushSensor?e("img",{attrs:{src:s("5803"),alt:"OK"}}):t.item_test.crushSensor?e("img",{attrs:{src:s("dbd7"),alt:"questions"}}):e("img",{attrs:{src:s("ba14"),alt:"CROSS"}})]),e("td",{staticClass:"td"},[t.item_test.gnss?e("img",{attrs:{src:s("5803"),alt:"OK"}}):t.item_test.gnss?e("img",{attrs:{src:s("dbd7"),alt:"questions"}}):e("img",{attrs:{src:s("ba14"),alt:"CROSS"}})]),e("td",{staticClass:"td"},[t.item_test.memory?e("img",{attrs:{src:s("5803"),alt:"OK"}}):t.item_test.memory?e("img",{attrs:{src:s("dbd7"),alt:"questions"}}):e("img",{attrs:{src:s("ba14"),alt:"CROSS"}})]),e("td",{staticClass:"td"},[t.item_test.microphone?e("img",{attrs:{src:s("5803"),alt:"OK"}}):t.item_test.microphone?e("img",{attrs:{src:s("dbd7"),alt:"questions"}}):e("img",{attrs:{src:s("ba14"),alt:"CROSS"}})])])},ne=[],de={name:"AppItemTableTesting",data(){return{}},props:{item_test:{type:Object,default(){return{}}},idx:{type:Number,default(){return{}}}}},ue=de,ve=Object(d["a"])(ue,le,ne,!1,null,null,null),me=ve.exports,pe={name:"AppTableTesting",data(){return{}},props:{imei:{type:String,default(){return{}}},pagination_data:{type:Array,default(){return{}}}},components:{ItemTableTesting:me},computed:{...Object(R["b"])({isLoading:t=>t.testing.isLoading}),sortedData(){return 0===this.imei.length?this.pagination_data:this.searchIMEI}}},ge=pe,he=Object(d["a"])(ge,oe,ce,!1,null,null,null),_e=he.exports;const be=()=>A.get("/all_test"),Ce=t=>A.get("/test_search/"+t),fe=t=>A.post("/test/get_stat",t),Se=t=>A.post("/test/get_data_to_date",t),De=t=>A.post("/test/export_test",t,{responseType:"blob"}),we=t=>A.post("/test/get_avg_data",t);var Fe={getAllTests:be,getSearch:Ce,getDataStatTest:fe,getDateReport:Se,downloadFile:De,getAvgData:we};const Ae={isLoading:!1,validationErrors:null,allTests:[],searchIMEI:[],dataBarStat:[],dataReport:[],avgStat:[],pieStatTest:[]},ke={getAllTestsStart:"[testing] getAllTestsStart",getAllTestsSuccess:"[testing] getAllTestsSuccess",getAllTestsFailure:"[testing] getAllTestsFailure",getSearchStart:"[testing] getSearchStart",getSearchSuccess:"[testing] getSearchSuccess",getSearchFailure:"[testing] getSearchFailure",getDataStatTestStart:"[testing] getDataStatTestStart",getDataStatTestSuccess:"[testing] getDataStatTestSuccess",getDataStatTestFailure:"[testing] getDataStatTestFailure",getDateReportStart:"[testing] getDateReportStart",getDateReportSuccess:"[testing] getDateReportSuccess",getDateReportFailure:"[testing] getDateReportFailure",downloadFileStart:"[testing]  downloadFileStart",downloadFileSuccess:"[testing]  downloadFileSuccess",downloadFileFailure:"[testing]  downloadFileFailure",getAvgDataStart:"[testing] getAvgDataStart",getAvgDataSuccess:"[testing] getAvgDataSuccess",getAvgDataFailure:"[testing] getAvgDataFailure"},Ie={getAllTests:"[testing] getAllTests",getSearch:"[testing] getSearch",getDataStatTest:"[testing] getDataStatTest",getDateReport:"[testing] getDateReport",downloadFile:"[testing]  downloadFile",getAvgData:"[testing] getAvgData"},xe={[ke.getAllTestsStart](t){t.validationErrors=null,t.isLoading=!0},[ke.getAllTestsSuccess](t,e){console.log(e),t.isLoading=!1,t.allTests=e.result},[ke.getAllTestsFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[ke.getSearchStart](t){t.validationErrors=null,t.isLoading=!0},[ke.getSearchSuccess](t,e){t.isLoading=!1,t.allTests=e.result},[ke.getSearchFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[ke.getDataStatTestStart](t){t.validationErrors=null,t.isLoading=!0},[ke.getDataStatTestSuccess](t,e){t.isLoading=!1,t.dataBarStat=e.result},[ke.getDataStatTestFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[ke.getDateReportStart](t){t.validationErrors=null,t.isLoading=!0},[ke.getDateReportSuccess](t,e){t.isLoading=!1,t.dataReport=e.result},[ke.getDateReportFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[ke.downloadFileStart](t){t.validationErrors=null,t.isLoading=!0},[ke.downloadFileSuccess](t){t.isLoading=!1},[ke.downloadFileFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[ke.getAvgDataStart](t){t.validationErrors=null,t.isLoading=!0},[ke.getAvgDataSuccess](t,e){t.isLoading=!1,t.avgStat=e.result,t.pieStatTest=e.result.madeDevices},[ke.getAvgDataFailure](t,e){t.validationErrors=e.message,t.isLoading=!1}},Ee={[Ie.getAllTests](t){return new Promise(e=>{t.commit(ke.getAllTestsStart),Fe.getAllTests().then(s=>{"SUCCESS"===s.data.status?(t.commit(ke.getAllTestsSuccess,s.data),e(s.data)):t.commit(ke.getAllTestsFailure,s.data)}).catch(e=>{t.commit(ke.getAllTestsFailure,e),console.log("ошибка",e)})})},[Ie.getSearch](t,e){return new Promise(s=>{t.commit(ke.getSearchStart),Fe.getSearch(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(ke.getSearchSuccess,e.data),s(e.data)):t.commit(ke.getSearchFailure,e.data)}).catch(e=>{t.commit(ke.getSearchFailure,e),console.log("ошибка",e)})})},[Ie.getDataStatTest](t,e){return new Promise(s=>{t.commit(ke.getDataStatTestStart),Fe.getDataStatTest(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(ke.getDataStatTestSuccess,e.data),s(e.data)):t.commit(ke.getDataStatTestFailure,e.data)}).catch(e=>{t.commit(ke.getDataStatTestFailure,e),console.log("ошибка",e)})})},[Ie.getDateReport](t,e){return new Promise(s=>{t.commit(ke.getDateReportStart),Fe.getDateReport(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(ke.getDateReportSuccess,e.data),s(e.data)):t.commit(ke.getDateReportFailure,e.data)}).catch(e=>{t.commit(ke.getDateReportFailure,e),console.log("ошибка",e)})})},[Ie.downloadFile](t,e){return new Promise(s=>{t.commit(ke.downloadFileStart),Fe.downloadFile(e).then(e=>{t.commit(ke.downloadFileSuccess,e),s(e)}).catch(e=>{t.commit(ke.downloadFileFailure,e),console.log("ошибка",e)})})},[Ie.getAvgData](t,e){return new Promise(s=>{t.commit(ke.getAvgDataStart),Fe.getAvgData(e).then(e=>{t.commit(ke.getAvgDataSuccess,e.data),s(e)}).catch(e=>{t.commit(ke.getAvgDataFailure,e),console.log("ошибка",e)})})}};var Te={state:Ae,mutations:xe,actions:Ee},ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"testing__statistics-container-wrap"},[e("div",{staticClass:"statistics-bar-report__data-tab"},[t._m(0),e("div",{staticClass:"statistics-bar-report__fillter"},[e("div",{staticClass:"statistics-bar-report__btn"},[e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveToday},on:{click:function(e){t.changeChart(t.nowDate,t.nowDate),t.activeBlock("today")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveToday}},[t._v(" Сегодня ")])]),e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveWeek},on:{click:function(e){t.changeChart(t.nowDate,t.beforeWeekDate),t.activeBlock("week")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveWeek}},[t._v(" За 7 дней ")])]),e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveMounth},on:{click:function(e){t.changeChart(t.nowDate,t.beforeMounth),t.activeBlock("mounth")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveMounth}},[t._v(" За 30 дней ")])])]),e("div",{staticClass:"statistics-bar-report__block"},[e("VueDatePicker",{staticClass:"number custom__button",class:{"active-btn":this.isActiveSelect},attrs:{range:"",validate:"",color:this.color,placeholder:"Выберите диапазон дат"},on:{onChange:function(e){t.getDataTest(),t.activeBlock("select")}},scopedSlots:t._u([{key:"day",fn:function({day:s}){return[e("span",{staticClass:"number custom__button"},[t._v(" "+t._s(s)+" ")])]}}]),model:{value:t.dateForTest,callback:function(e){t.dateForTest=e},expression:"dateForTest"}})],1)])]),e("div",{staticClass:"statistics__wrap"},[e("div",{staticClass:"statistics-avg"},[t._m(1),e("div",{staticClass:"statistics-bar-report__date-avg"}),e("testing-stat-avg")],1),e("div",{staticClass:"statistics__wrap-diagram"},[e("div",{staticClass:"statistics-bar"},[t._m(2),e("testing-bar")],1),e("div",{staticClass:"statistics-pie"},[t._m(3),e("testing-pie")],1)])])])},Oe=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar-report__title"},[e("p",{staticClass:"statistics-bar__title-text"},[t._v("Фильтрация")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar__title"},[e("p",{staticClass:"statistics-bar__description"},[t._v("статистика")]),e("p",{staticClass:"statistics-bar__title-text"},[t._v(" Общие показатели за указанный период времени ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar__wrap"},[e("div",{staticClass:"statistics-bar__title"},[e("p",{staticClass:"statistics-bar__description"},[t._v("статистика")]),e("p",{staticClass:"statistics-bar__title-text"},[t._v(" Количество протестированных устройств ")])]),e("div",{staticClass:"statistics-bar-report__block-wrap"},[e("div",{staticClass:"statistics-bar-report__date"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar__title"},[e("p",{staticClass:"statistics-bar__description"},[t._v("статистика")]),e("p",{staticClass:"statistics-bar__title-text"},[t._v(" Диаграмма количества протестированных блоков сотрудниками ")])])}],Pe=s("bd0e"),Re=function(){var t=this,e=t._self._c;return e("Bar",{attrs:{"chart-data":t.chartData,chartOptions:t.chartOptions}})},Ue=[],Me=s("368d"),Le=s("dd61");Le["f"].register(Le["o"],Le["p"],Le["h"],Le["c"],Le["e"],Le["j"]);var $e={name:"BarChart",data(){return{chartOptions:{legend:{display:!1},plugins:{legend:{display:!1}},scales:{x:{ticks:{autoSkip:!1,maxRotation:90,minRotation:90}}}}}},components:{Bar:Me["a"]},computed:{...Object(R["b"])({dataBarStat:t=>t.testing.dataBarStat,loading:t=>t.testing.loading}),chartData(){return{labels:this.dataBarStat.map(t=>t.date),datasets:[{label:"Пройдено тестов",barPercentage:.5,barThickness:100,maxBarThickness:40,minBarLength:2,backgroundColor:["rgba(25, 44, 140, 0.8)","rgba(15, 49, 169, 0.8)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(25, 44, 140)","rgb(15, 49, 169)","rgb(15, 49, 169)","rgb(147, 170, 252)","rgb(198, 210, 253)","rgb(229, 234, 252)","rgb(201, 203, 207)","rgb(15, 49, 169)","rgb(147, 170, 252)","rgb(198, 210, 253)","rgb(229, 234, 252)","rgb(201, 203, 207)"],borderWidth:2,borderRadius:5,data:this.dataBarStat.map(t=>t.counter),pointRadius:10}]}}}},Ne=$e,Be=Object(d["a"])(Ne,Re,Ue,!1,null,null,null),je=Be.exports,qe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pie"},[e("div",{staticClass:"pie__labels"},t._l(this.chartData.labels,(function(s,a){return e("div",{key:a,staticClass:"pie__labels-block"},[e("p",{staticClass:"index-text400 number",class:{"number-rang-active ":a<3}},[t._v(" "+t._s(a+1)+". ")]),e("p",{staticClass:"pie__label-item index-text400 number",class:{"rang-active":a<3}},[t._v(" "+t._s(s)+" ")])])})),0),e("Pie",{staticStyle:{width:"40%"},attrs:{"chart-data":t.chartData,chartOptions:t.chartOptions}})],1)},We=[];Le["f"].register(Le["o"],Le["p"],Le["h"],Le["a"],Le["e"]);var ze={name:"PieChartTest",components:{Pie:Me["b"]},computed:{...Object(R["b"])({pieStatTest:t=>t.testing.pieStatTest,loading:t=>t.testing.loading}),chartData(){return{labels:this.pieStatTest.map(t=>`${t.username}- ${t.devices_made}`),datasets:[{label:"Пройдено ",backgroundColor:["rgba(25, 44, 140, 0.8)","rgba(15, 49, 169, 0.8)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)"],data:this.pieStatTest.map(t=>t.devices_made)}]}}},data(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1,position:"top",align:"start",padding:20},plugins:{legend:{display:!1}}}}}},Ve=ze,Ke=Object(d["a"])(Ve,qe,We,!1,null,null,null),Ge=Ke.exports,Ze=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-block"},[t._m(0),e("div",{staticClass:"statistics-block__body"},[e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Общее количество протестированных блоков:")]),e("div",{staticClass:"block-gradient"},[null!==this.avgStat.totalCount?e("p",{staticClass:"text-white700 number"},[t._v(" "+t._s(this.avgStat.totalCount)+" ")]):e("p",{staticClass:"text-white700"},[t._v("0")])])]),e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Среднее время тестирования:")]),e("div",{staticClass:"block-gradient"},[null!==this.avgStat.avgTimeDiff?e("p",{staticClass:"text-white700 number"},[t._v(" "+t._s(this.avgStat.avgTimeDiff)+" ")]):e("p",{staticClass:"text-white700 number"},[t._v("0")])])])])])},He=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-block__title"},[e("p",{staticClass:"text-white700"},[t._v("Статистика работы")])])}],Je={name:"AppTestinStatAvg",data(){return{}},computed:{...Object(R["b"])({avgStat:t=>t.testing.avgStat})}},Xe=Je,Ye=Object(d["a"])(Xe,Ze,He,!1,null,null,null),Qe=Ye.exports,ts={name:"AppTestingStatistics",data(){return{dateForTest:"",color:"#192c8c",dateForAvg:"",isActiveToday:!1,isActiveWeek:!0,isActiveMounth:!1,isActiveSelect:!1}},components:{VueDatePicker:Pe["a"],TestingBar:je,TestingStatAvg:Qe,TestingPie:Ge},computed:{isComplete(){return""!=this.dateForTest},nowDate(){var t=new Date;return t.toISOString().substring(0,10)},beforeWeekDate(){var t=new Date;return new Date(t.setDate(t.getDate()-7)).toISOString().substring(0,10)},beforeMounth(){var t=new Date;return new Date(t.setDate(t.getDate()-30)).toISOString().substring(0,10)}},methods:{activeBlock(t){"today"===t?(this.isActiveToday=!0,this.isActiveWeek=!1,this.isActiveMounth=!1,this.isActiveSelect=!1):"week"===t?(this.isActiveToday=!1,this.isActiveWeek=!0,this.isActiveMounth=!1,this.isActiveSelect=!1):"mounth"===t?(this.isActiveToday=!1,this.isActiveWeek=!1,this.isActiveMounth=!0,this.isActiveSelect=!1):"select"===t&&(this.isActiveToday=!1,this.isActiveWeek=!1,this.isActiveMounth=!1,this.isActiveSelect=!0)},getDataTest(){this.$store.dispatch(Ie.getDataStatTest,this.dateForTest).then(()=>{}).catch(t=>{console.log("Ошибка",t)}),this.$store.dispatch(Ie.getAvgData,this.dateForTest).then(()=>{}).catch(t=>{console.log("Ошибка",t)})},changeChart(t,e){this.$store.dispatch(Ie.getDataStatTest,{end:t,start:e}).then(()=>{}).catch(t=>{console.log("Ошибка",t)}),this.$store.dispatch(Ie.getAvgData,{end:t,start:e}).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},mounted(){this.$store.dispatch(Ie.getDataStatTest,{end:this.nowDate,start:this.beforeWeekDate}).then(()=>{}).catch(t=>{console.log("Ошибка",t)}),this.$store.dispatch(Ie.getAvgData,{end:this.nowDate,start:this.beforeWeekDate}).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},es=ts,ss=(s("8852"),Object(d["a"])(es,ye,Oe,!1,null,"439b1150",null)),as=ss.exports,is=function(){var t=this,e=t._self._c;return e("div",{},[e("div",{staticClass:"report"},[e("div",{staticClass:"report__title"},[t._v("Для создания отчета выберите даты")]),t.isSubmiting?e("div",{staticClass:"report__wrap-download",on:{click:t.downloadFile}},[t._m(0),e("div",{staticClass:"report__download-text"},[t._v("Скачать документ")])]):t._e(),e("div",{staticClass:"report__block-wrap"},[e("div",{staticClass:"report__block"},[e("VueDatePicker",{staticClass:"number",attrs:{range:"",validate:"",color:this.color,placeholder:"Выберите даты"},scopedSlots:t._u([{key:"day",fn:function({day:s}){return[e("span",{staticClass:"number"},[t._v(" "+t._s(s)+" ")])]}}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e("div",{staticClass:"report__btn"},[e("button",{staticClass:"index-btn lite-color",attrs:{type:"button",disabled:!t.isComplete},on:{click:t.createReport}},[t._v(" Создать отчет ")])])]),t.isSubmiting?e("div",{staticClass:"report__table-wrap"},[e("testing-report-table",{attrs:{pagination_data:this.paginatedData}}),[e("pagination",{attrs:{"total-pages":this.totalPages,"per-page":10,"current-page":t.currentPage,pageCount:t.pageCount},on:{pagechanged:t.onPageChange}})]],2):t._e()])])},rs=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"report__download-icon",attrs:{tooltip:"Скачать"}},[e("img",{attrs:{src:s("8215"),alt:"download"}})])}],os=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table-testing"},[t._m(0),e("tbody",{staticClass:"tbody"},[0!==this.pagination_data.length?t._l(this.pagination_data,(function(t,s){return e("TestingReportItemTable",{key:s,attrs:{item_test:t,idx:s}})})):t._e(),0===this.pagination_data.length&&this.isLoading?[t._m(1),t._m(2)]:t._e(),0!==this.pagination_data.length||this.isLoading?t._e():[t._m(3)]],2)])},cs=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead"},[e("tr",{staticClass:"tr"},[e("th",{staticClass:"th"},[t._v("№")]),e("th",{staticClass:"th"},[t._v("IMEI")]),e("th",{staticClass:"th"},[t._v("ФИО")]),e("th",{staticClass:"th"},[t._v("Дата тестирования")]),e("th",{staticClass:"th",attrs:{tooltip:"Проверка теста"}},[t._v("Пройден тест?")])])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-transponent"},[e("th",{staticClass:"th",attrs:{colspan:"5"}})])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-loader"},[e("th",{attrs:{colspan:"5"}},[e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"error"},[e("p",{staticClass:"error-text"},[t._v("*По данным датам не было найдено данных")])])}],ls=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-info-body"},[e("td",{staticClass:"td number"},[t._v(t._s(t.idx+1))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_test.imei))]),e("td",{staticClass:"td"},[t._v(t._s(t.item_test.fio))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_test.timeTest))]),e("td",{staticClass:"td"},[e("div",{staticClass:"block-firm",class:t.defineColorTest},[t._v(" "+t._s(this.defineTest)+" ")])])])},ns=[],ds={name:"AppTestingReportTable",props:{item_test:{type:Object,default(){return{}}},idx:{type:Number,default(){return{}}}},computed:{defineColorTest(){return{"firm-yes":this.item_test.isPassed,"firm-no":!this.item_test.isPassed}},defineTest(){return this.item_test.isPassed?"Прошел":"Не прошел"}}},us=ds,vs=Object(d["a"])(us,ls,ns,!1,null,null,null),ms=vs.exports,ps={components:{TestingReportItemTable:ms},name:"AppTestingReportItemTable",props:{pagination_data:{type:Array,default(){return{}}}},computed:{...Object(R["b"])({isLoading:t=>t.testing.isLoading})}},gs=ps,hs=Object(d["a"])(gs,os,cs,!1,null,null,null),_s=hs.exports,bs=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"pagination"},[e("li",{staticClass:"pagination-item"},[e("button",{staticClass:"pagination-item__text number",attrs:{type:"button",disabled:t.isInFirstPage,"aria-label":"Go to first page"},on:{click:t.onClickFirstPage}},[t._v(" Первая ")])]),e("li",{staticClass:"pagination-item"},[e("button",{staticClass:"pagination__btn",attrs:{type:"button",disabled:t.isInFirstPage,"aria-label":"Go to previous page"},on:{click:t.onClickPreviousPage}},[e("arrow-left",{attrs:{color:this.colorArrowLeft}})],1)]),t._l(t.pages,(function(s,a){return e("li",{key:a,staticClass:"pagination-item"},[e("button",{staticClass:"pagination-item__btn number",class:{"active-num":t.isPageActive(s.name)},attrs:{type:"button",disabled:s.isDisabled,"aria-label":"Go to page number "+s.name},on:{click:function(e){return t.onClickPage(s.name)}}},[t._v(" "+t._s(s.name)+" ")])])})),e("li",{staticClass:"pagination-item"},[e("button",{staticClass:"pagination__btn",attrs:{type:"button",disabled:t.isInLastPage,"aria-label":"Go to next page"},on:{click:t.onClickNextPage}},[e("arrow-right",{attrs:{color:this.colorArrowRight}})],1)]),e("li",{staticClass:"pagination-item"},[e("button",{staticClass:"pagination-item__text number",attrs:{type:"button",disabled:t.isInLastPage,"aria-label":"Go to last page"},on:{click:t.onClickLastPage}},[t._v(" Последняя ")])])],2)},Cs=[],fs={components:{ArrowRight:Gt,ArrowLeft:jt},name:"AppPagination",props:{maxVisibleButtons:{type:Number,required:!1,default:5},totalPages:{type:Number,required:!0},pageCount:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!0}},computed:{startPage(){return 1===this.currentPage?1:this.currentPage===this.totalPages?this.totalPages-this.maxVisibleButtons+1:this.currentPage-1},endPage(){return Math.min(this.startPage+this.maxVisibleButtons-1,this.totalPages)},pages(){const t=[];for(let e=this.startPage;e<=this.endPage;e+=1)t.push({name:e,isDisabled:e===this.currentPage});return t},isInFirstPage(){return 1===this.currentPage},isInLastPage(){return this.currentPage===this.totalPages},colorArrowLeft(){return 1===this.currentPage?"#7C8DB5":"#192c8c"},colorArrowRight(){return this.currentPage>=this.pageCount-1?"#7C8DB5":"#192c8c"}},methods:{onClickFirstPage(){this.$emit("pagechanged",1)},onClickPreviousPage(){this.$emit("pagechanged",this.currentPage-1)},onClickPage(t){this.$emit("pagechanged",t)},onClickNextPage(){this.$emit("pagechanged",this.currentPage+1)},onClickLastPage(){this.$emit("pagechanged",this.totalPages)},isPageActive(t){return this.currentPage===t}}},Ss=fs,Ds=(s("9dc8"),Object(d["a"])(Ss,bs,Cs,!1,null,null,null)),ws=Ds.exports,Fs={name:"AppTestingActiveReport",data(){return{color:"#192c8c",date:"",currentPage:1,isSubmiting:!1}},props:{size:{type:Number,required:!1,default:10}},components:{VueDatePicker:Pe["a"],TestingReportTable:_s,Pagination:ws},computed:{...Object(R["b"])({dataReport:t=>t.testing.dataReport}),isComplete(){return""!=this.date},totalPages(){return this.dataReport!==[]?Math.ceil(this.dataReport.length/this.size):0},paginatedData(){const t=(this.currentPage-1)*this.size,e=t+this.size;return this.dataReport.slice(t,e)},pageCount(){if(this.dataReport!==[]){let t=this.dataReport.length,e=this.size;return Math.ceil(t/e)}return 0},colorArrowLeft(){return 0===this.pageNumber?"#7C8DB5":"#192c8c"},colorArrowRight(){return this.pageNumber>=this.pageCount-1?"#7C8DB5":"#192c8c"}},methods:{downloadFile(){this.$store.dispatch(Ie.downloadFile,this.date).then(t=>{const e=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.ms-excel"}));var s=`Отчет тестирования за ${this.date.start} - ${this.date.end}`;const a=document.createElement("a");a.href=e,a.setAttribute("download",s),document.body.appendChild(a),a.click()}).catch(t=>{console.log("Ошибка",t)})},createReport(){this.$store.dispatch(Ie.getDateReport,this.date).then(()=>{this.isSubmiting=!0}).catch(t=>{console.log("Ошибка",t)})},onPageChange(t){this.currentPage=t}}},As=Fs,ks=Object(d["a"])(As,is,rs,!1,null,null,null),Is=ks.exports,xs={name:"AppTesting",data(){return{searchIMEIs:"",currentPage:1,isActiveTest:!0,isActiveReport:!1,isActiveStatistics:!1,date:"",title:"Тестирование",color:"#192c8c"}},props:{size:{type:Number,required:!1,default:10},isImeiData:{type:Boolean,required:!1}},components:{Header:$,TableTesting:_e,TestingActiveStatistics:as,TestingActiveReport:Is,Pagination:ws},computed:{...Object(R["b"])({allTests:t=>t.testing.allTests,token:t=>t.auth.token,infoUser:t=>t.auth.infoUser,isConnected:t=>t.socket.isConnected}),searchIMEIReact(){return this.searchIMEIs},totalPages(){if(this.allTests!==[]){const t=Math.ceil(this.allTests.length/this.size);return t}return 0},paginatedData(){const t=(this.currentPage-1)*this.size,e=t+this.size;return this.allTests.slice(t,e)},pageCount(){if(this.allTests!==[]){let t=this.allTests.length,e=this.size;return Math.ceil(t/e)}return 0}},methods:{activeBlock(t){"test"===t?(this.isActiveTest=!0,this.isActiveReport=!1,this.isActiveStatistics=!1):"report"===t?(this.isActiveTest=!1,this.isActiveReport=!0,this.isActiveStatistics=!1):"statistics"===t&&(this.isActiveTest=!1,this.isActiveReport=!1,this.isActiveStatistics=!0)},onPageChange(t){this.currentPage=t}},watch:{searchIMEIReact(){let t=this.searchIMEIReact;""!==t?this.$store.dispatch(Ie.getSearch,t).then(()=>{}).catch(t=>{console.log("Ошибка",t)}):this.$store.dispatch(Ie.getAllTests).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},beforeMount(){document.title=this.title},beforeUpdate(){document.title=this.title},mounted(){"undefined"!==this.token&&""!==this.token&&null!==this.infoUser||this.$router.push({name:"Login"}),this.$store.dispatch(Ie.getAllTests).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},Es=xs,Ts=Object(d["a"])(Es,ie,re,!1,null,null,null),ys=Ts.exports,Os=function(){var t=this,e=t._self._c;return e("div",{staticClass:"firmware"},[e("Header",{attrs:{title:"Прошивка",description:"Анализ прошивок устройств"}}),e("div",{staticClass:"container-page"},[e("div",{staticClass:"data-tab"},[e("div",{staticClass:"data-tab__wrap"},[e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveTest},on:{click:function(e){return t.activeBlock("test")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveTest}},[t._v(" Тесты ")])]),e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveReport},on:{click:function(e){return t.activeBlock("report")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveReport}},[t._v(" Отчеты ")])]),e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveStatistics},on:{click:function(e){return t.activeBlock("statistics")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveStatistics}},[t._v(" Статистика ")])])])]),this.isActiveTest?e("div",{staticClass:"testing__search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchIMEIs,expression:"searchIMEIs"}],staticClass:"testing__input number",attrs:{type:"text",placeholder:"Поиск по IMEI"},domProps:{value:t.searchIMEIs},on:{input:function(e){e.target.composing||(t.searchIMEIs=e.target.value)}}}),e("img",{staticClass:"testing__input-svg",attrs:{src:s("0a17"),alt:"search"}})]):t._e(),this.isActiveTest?e("div",{staticClass:"testing__table-container"},[e("table-device",{attrs:{imei:t.searchIMEIs,pagination_data:this.paginatedData}}),[e("pagination",{attrs:{"total-pages":this.totalPages,"per-page":10,"current-page":t.currentPage,pageCount:t.pageCount},on:{pagechanged:t.onPageChange}})]],2):t._e(),this.isActiveReport?e("div",{staticClass:"testing__report-container"},[e("firmware-active-report")],1):t._e(),this.isActiveStatistics?e("div",{staticClass:"testing__statistics-container"},[e("firmware-active-statistics")],1):t._e()])],1)},Ps=[];const Rs=()=>A.get("/all_firmware"),Us=t=>A.get("/firmware/search_firmware/"+t),Ms=t=>A.post("/firmware/get_stat",t),Ls=t=>A.post("/firmware/get_data_to_date",t),$s=t=>A.post("/firmware/export_excel",t,{responseType:"blob"}),Ns=t=>A.post("/firmware/get_avg_data",t);var Bs={getAllFirmware:Rs,getSearchIMEI:Us,getDataStatFirm:Ms,getDateReportFirm:Ls,downloadFileFirm:$s,getAvgDataFirm:Ns};const js={isLoading:!1,validationErrors:null,allFirmware:[],dataBarStatFirm:[],dataReportFirm:[],avgStatFirm:[],pieStatFirm:[]},qs={getAllFirmwareStart:"[firmware] getAllFirmwareStart",getAllFirmwareSuccess:"[firmware] getAllFirmwareSuccess",getAllFirmwareFailure:"[firmware] getAllFirmwareFailure",getSearchIMEIStart:"[firmware] getSearchIMEIStart",getSearchIMEISuccess:"[firmware] getSearchIMEISuccess",getSearchIMEIFailure:"[firmware] getSearchIMEIFailure",getDataStatFirmStart:"[firmware] getDataStatFirmStart",getDataStatFirmSuccess:"[firmware] getDataStatFirmSuccess",getDataStatFirmFailure:"[firmware] getDataStatFirmFailure",getDateReportFirmStart:"[firmware] getDateReportFirmStart",getDateReportFirmSuccess:"[firmware] getDateReportFirmSuccess",getDateReportFirmFailure:"[firmware] getDateReportFirmFailure",downloadFileFirmStart:"[firmware]  downloadFileFirmStart",downloadFileFirmSuccess:"[firmware]  downloadFileFirmSuccess",downloadFileFirmFailure:"[firmware]  downloadFileFirmFailure",getAvgDataFirmStart:"[firmware] getAvgDataFirmStart",getAvgDataFirmSuccess:"[firmware] getAvgDataFirmSuccess",getAvgDataFirmFailure:"[firmware] getAvgDataFirmFailure"},Ws={getAllFirmware:"[firmware] getAllFirmware",getSearchIMEI:"[firmware] getSearchIMEI",getDataStatFirm:"[firmware]  getDataStatFirm",getDateReportFirm:"[firmware] getDateReportFirm",downloadFileFirm:"[firmware] downloadFileFirm",getAvgDataFirm:"[firmware] getAvgDataFirm"},zs={[qs.getAllFirmwareStart](t){t.validationErrors=null,t.isLoading=!0},[qs.getAllFirmwareSuccess](t,e){t.isLoading=!1,t.allFirmware=e.result},[qs.getAllFirmwareFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[qs.getSearchIMEIStart](t){t.validationErrors=null,t.isLoading=!0},[qs.getSearchIMEISuccess](t,e){t.isLoading=!1,t.allFirmware=e.result},[qs.getSearchIMEIFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[qs.getDataStatFirmStart](t){t.validationErrors=null,t.isLoading=!0},[qs.getDataStatFirmSuccess](t,e){t.isLoading=!1,t.dataBarStatFirm=e.result},[qs.getDataStatFirmFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[qs.getDateReportFirmStart](t){t.validationErrors=null,t.isLoading=!0},[qs.getDateReportFirmSuccess](t,e){t.isLoading=!1,t.dataReportFirm=e.result},[qs.getDateReportFirmFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[qs.downloadFileFirmStart](t){t.validationErrors=null,t.isLoading=!0},[qs.downloadFileFirmSuccess](t){t.isLoading=!1},[qs.downloadFileFirmFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[qs.getAvgDataFirmStart](t){t.validationErrors=null,t.isLoading=!0},[qs.getAvgDataFirmSuccess](t,e){t.isLoading=!1,t.avgStatFirm=e.result,t.pieStatFirm=e.result.madeDevices},[qs.getAvgDataFirmFailure](t,e){t.validationErrors=e.message,t.isLoading=!1}},Vs={[Ws.getAllFirmware](t){return new Promise(e=>{t.commit(qs.getAllFirmwareStart),Bs.getAllFirmware().then(s=>{"SUCCESS"===s.data.status?(t.commit(qs.getAllFirmwareSuccess,s.data),e(s.data)):t.commit(qs.getAllFirmwareFailure,s.data)}).catch(e=>{t.commit(qs.getAllFirmwareFailure,e),console.log("ошибка",e)})})},[Ws.getSearchIMEI](t,e){return new Promise(s=>{t.commit(qs.getSearchIMEIStart),Bs.getSearchIMEI(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(qs.getSearchIMEISuccess,e.data),s(e.data)):t.commit(qs.getSearchIMEIFailure,e.data)}).catch(e=>{t.commit(qs.getSearchIMEIFailure,e),console.log("ошибка",e)})})},[Ws.getDataStatFirm](t,e){return new Promise(s=>{t.commit(qs.getDataStatFirmStart),Bs.getDataStatFirm(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(qs.getDataStatFirmSuccess,e.data),s(e.data)):t.commit(qs.getDataStatFirmFailure,e.data)}).catch(e=>{t.commit(qs.getDataStatFirmFailure,e),console.log("ошибка",e)})})},[Ws.getDateReportFirm](t,e){return new Promise(s=>{t.commit(qs.getDateReportFirmStart),Bs.getDateReportFirm(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(qs.getDateReportFirmSuccess,e.data),s(e.data)):t.commit(qs.getDateReportFirmFailure,e.data)}).catch(e=>{t.commit(qs.getDateReportFirmFailure,e),console.log("ошибка",e)})})},[Ws.downloadFileFirm](t,e){return new Promise(s=>{t.commit(qs.downloadFileFirmStart),Bs.downloadFileFirm(e).then(e=>{t.commit(qs.downloadFileFirmSuccess,e),s(e)}).catch(e=>{t.commit(qs.downloadFileFirmFailure,e),console.log("ошибка",e)})})},[Ws.getAvgDataFirm](t,e){return new Promise(s=>{t.commit(qs.getAvgDataFirmStart),Bs.getAvgDataFirm(e).then(e=>{t.commit(qs.getAvgDataFirmSuccess,e.data),s(e)}).catch(e=>{t.commit(qs.getAvgDataFirmFailure,e),console.log("ошибка",e)})})}};var Ks={state:js,mutations:zs,actions:Vs},Gs=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table-testing"},[t._m(0),e("tbody",{staticClass:"tbody"},[0!==this.pagination_data.length?t._l(this.pagination_data,(function(t,s){return e("ItemTableDevice",{key:s,attrs:{item_device:t,idx:s}})})):t._e(),0===this.pagination_data.length&&t.isLoading?[t._m(1),t._m(2)]:t._e(),0!==this.pagination_data.length||t.isLoading?t._e():[t._m(3)]],2)])},Zs=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead"},[e("tr",{staticClass:"tr"},[e("th",{staticClass:"th"},[t._v("№")]),e("th",{staticClass:"th"},[t._v("IMEI")]),e("th",{staticClass:"th"},[t._v("ФИО")]),e("th",{staticClass:"th"},[t._v("Версия прошивки")]),e("th",{staticClass:"th"},[t._v("Время начала")]),e("th",{staticClass:"th"},[t._v("Время конца")]),e("th",{staticClass:"th"},[t._v("Есть ли прошивка?")]),e("th",{staticClass:"th"},[t._v("Протестирован ли?")])])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-transponent"},[e("th",{staticClass:"th",attrs:{colspan:"11"}})])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-loader"},[e("th",{attrs:{colspan:"8"}},[e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"error"},[e("p",{staticClass:"error-text"},[t._v("*Устройств по данному IMEI не найдено")])])}],Hs=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"tr-info-body"},[e("td",{staticClass:"td number"},[t._v(t._s(t.idx+1))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_device.imei))]),e("td",{staticClass:"td"},[t._v(t._s(t.item_device.fio))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_device.version))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_device.startTime))]),e("td",{staticClass:"td number"},[t._v(t._s(t.item_device.endTime))]),e("td",{staticClass:"td"},[e("div",{staticClass:"block-firm",class:t.defineColorFire},[t._v(" "+t._s(this.defineFirmed)+" ")])]),e("td",{staticClass:"td"},[e("div",{staticClass:"block-firm",class:t.defineColorTest},[t._v(" "+t._s(this.defineTest)+" ")])])])},Js=[],Xs={name:"AppItemTableDevice",data(){return{}},computed:{defineColorFire(){return{"firm-yes":this.item_device.isFirmware,"firm-no":!this.item_device.isFirmware}},defineColorTest(){return{"firm-yes":this.item_device.isTest,"firm-no":!this.item_device.isTest}},defineFirmed(){return this.item_device.isFirmware?"Прошит":"Не прошит"},defineTest(){return this.item_device.isTest?"ДА":"НЕТ"}},props:{item_device:{type:Object,default(){return{}}},idx:{type:Number,default(){return{}}}}},Ys=Xs,Qs=Object(d["a"])(Ys,Hs,Js,!1,null,null,null),ta=Qs.exports,ea={name:"AppTableDevice",data(){return{}},props:{imei:{type:String,default(){return{}},required:!1},pagination_data:{type:Array,default(){return{}}}},components:{ItemTableDevice:ta},computed:{...Object(R["b"])({allDevice:t=>t.firmware.allDevice,isLoading:t=>t.firmware.isLoading}),sortedData(){return 0===this.imei.length?this.pagination_data:this.searchIMEI}}},sa=ea,aa=Object(d["a"])(sa,Gs,Zs,!1,null,null,null),ia=aa.exports,ra=function(){var t=this,e=t._self._c;return e("div",{},[e("div",{staticClass:"report"},[e("div",{staticClass:"report__title"},[t._v("Для создания отчета выберите даты")]),t.isSubmiting?e("div",{staticClass:"report__wrap-download",on:{click:t.downloadFile}},[t._m(0),e("div",{staticClass:"report__download-text"},[t._v("Скачать документ")])]):t._e(),e("div",{staticClass:"report__block-wrap"},[e("div",{staticClass:"report__block"},[e("VueDatePicker",{staticClass:"number",attrs:{range:"",validate:"",color:this.color,placeholder:"Выберите даты"},scopedSlots:t._u([{key:"day",fn:function({day:s}){return[e("span",{staticClass:"number"},[t._v(" "+t._s(s)+" ")])]}}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e("div",{staticClass:"report__btn"},[e("button",{staticClass:"index-btn lite-color",attrs:{type:"button",disabled:!t.isComplete},on:{click:t.createReport}},[t._v(" Создать отчет ")])])]),t.isSubmiting?e("div",{staticClass:"report__table-wrap"},[e("table-device",{attrs:{pagination_data:this.paginatedData,imei:this.imei}}),[e("pagination",{attrs:{"total-pages":this.totalPages,"per-page":10,"current-page":t.currentPage,pageCount:t.pageCount},on:{pagechanged:t.onPageChange}})]],2):t._e()])])},oa=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"report__download-icon",attrs:{tooltip:"Скачать"}},[e("img",{attrs:{src:s("8215"),alt:"download"}})])}],ca={name:"AppFirmwareActiveReport",data(){return{color:"#192c8c",date:"",currentPage:1,pageNumber:0,isSubmiting:!1,imei:""}},props:{size:{type:Number,required:!1,default:10}},components:{VueDatePicker:Pe["a"],TableDevice:ia,Pagination:ws},computed:{...Object(R["b"])({dataReportFirm:t=>t.firmware.dataReportFirm}),isComplete(){return""!=this.date},totalPages(){return this.dataReport!==[]?Math.ceil(this.dataReportFirm.length/this.size):0},paginatedData(){const t=(this.currentPage-1)*this.size,e=t+this.size;return this.dataReportFirm.slice(t,e)},pageCount(){if(this.dataReportFirm!==[]){let t=this.dataReportFirm.length,e=this.size;return Math.ceil(t/e)}return 0}},methods:{downloadFile(){this.$store.dispatch(Ws.downloadFileFirm,this.date).then(t=>{const e=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.ms-excel"}));var s=`Отчет прошивки за ${this.date.start} - ${this.date.end}`;const a=document.createElement("a");a.href=e,a.setAttribute("download",s),document.body.appendChild(a),a.click()}).catch(t=>{console.log("Ошибка",t)})},createReport(){this.$store.dispatch(Ws.getDateReportFirm,this.date).then(()=>{this.isSubmiting=!0}).catch(t=>{console.log("Ошибка",t)})},onPageChange(t){this.currentPage=t}}},la=ca,na=Object(d["a"])(la,ra,oa,!1,null,null,null),da=na.exports,ua=function(){var t=this,e=t._self._c;return e("div",{staticClass:"testing__statistics-container-wrap"},[e("div",{staticClass:"statistics-bar-report__data-tab"},[t._m(0),e("div",{staticClass:"statistics-bar-report__fillter"},[e("div",{staticClass:"statistics-bar-report__btn"},[e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveToday},on:{click:function(e){t.changeChart(t.nowDate,t.nowDate),t.activeBlock("today")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveToday}},[t._v(" Сегодня ")])]),e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveWeek},on:{click:function(e){t.changeChart(t.nowDate,t.beforeWeekDate),t.activeBlock("week")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveWeek}},[t._v(" За 7 дней ")])]),e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveMounth},on:{click:function(e){t.changeChart(t.nowDate,t.beforeMounth),t.activeBlock("mounth")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveMounth}},[t._v(" За 30 дней ")])])]),e("div",{staticClass:"statistics-bar-report__block"},[e("VueDatePicker",{staticClass:"number custom__button",class:{"active-btn":this.isActiveSelect},attrs:{range:"",validate:"",color:this.color,placeholder:"Выберите диапазон дат"},on:{onChange:function(e){t.getDataTest(),t.activeBlock("select")}},scopedSlots:t._u([{key:"day",fn:function({day:s}){return[e("span",{staticClass:"number custom__button"},[t._v(" "+t._s(s)+" ")])]}}]),model:{value:t.dateForTest,callback:function(e){t.dateForTest=e},expression:"dateForTest"}})],1)])]),e("div",{staticClass:"statistics__wrap"},[e("div",{staticClass:"statistics-avg"},[t._m(1),e("div",{staticClass:"statistics-bar-report__date-avg"}),e("FirmwareStatAvg")],1),e("div",{staticClass:"statistics__wrap-diagram"},[e("div",{staticClass:"statistics-bar"},[t._m(2),e("FirmwareBar")],1),e("div",{staticClass:"statistics-pie"},[t._m(3),e("FirmwarePie")],1)])])])},va=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar-report__title"},[e("p",{staticClass:"statistics-bar__title-text"},[t._v("Фильтрация")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar__title"},[e("p",{staticClass:"statistics-bar__description"},[t._v("статистика")]),e("p",{staticClass:"statistics-bar__title-text"},[t._v(" Общие показатели за указанный период времени ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar__wrap"},[e("div",{staticClass:"statistics-bar__title"},[e("p",{staticClass:"statistics-bar__description"},[t._v("статистика")]),e("p",{staticClass:"statistics-bar__title-text"},[t._v(" Количество прошитых устройств ")])]),e("div",{staticClass:"statistics-bar-report__block-wrap"},[e("div",{staticClass:"statistics-bar-report__date"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar__title"},[e("p",{staticClass:"statistics-bar__description"},[t._v("статистика")]),e("p",{staticClass:"statistics-bar__title-text"},[t._v(" Диаграмма количества прошитых блоков сотрудниками ")])])}],ma=function(){var t=this,e=t._self._c;return e("Bar",{attrs:{"chart-data":t.chartData,chartOptions:t.chartOptions}})},pa=[];Le["f"].register(Le["o"],Le["p"],Le["h"],Le["c"],Le["e"],Le["j"]);var ga={name:"FirmwareChart",data(){return{chartOptions:{legend:{display:!1},plugins:{legend:{display:!1}},scales:{x:{ticks:{autoSkip:!1,maxRotation:90,minRotation:90}}}}}},components:{Bar:Me["a"]},computed:{...Object(R["b"])({dataBarStat:t=>t.firmware.dataBarStatFirm,loading:t=>t.testing.loading}),chartData(){return{labels:this.dataBarStat.map(t=>t.date),datasets:[{label:"Кол-во прошитых устройств",backgroundColor:["rgba(25, 44, 140, 0.8)","rgba(15, 49, 169, 0.8)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(25, 44, 140)","rgb(15, 49, 169)","rgb(15, 49, 169)","rgb(147, 170, 252)","rgb(198, 210, 253)","rgb(229, 234, 252)","rgb(201, 203, 207)","rgb(15, 49, 169)","rgb(147, 170, 252)","rgb(198, 210, 253)","rgb(229, 234, 252)","rgb(201, 203, 207)"],borderWidth:2,borderRadius:5,data:this.dataBarStat.map(t=>t.counter),maxBarThickness:25,pointRadius:5}]}}}},ha=ga,_a=Object(d["a"])(ha,ma,pa,!1,null,null,null),ba=_a.exports,Ca=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pie"},[e("div",{staticClass:"pie__labels"},t._l(this.chartData.labels,(function(s,a){return e("div",{key:a,staticClass:"pie__labels-block"},[e("p",{staticClass:"index-text400 number",class:{"number-rang-active ":a<3}},[t._v(" "+t._s(a+1)+". ")]),e("p",{staticClass:"pie__label-item index-text400 number",class:{"rang-active":a<3}},[t._v(" "+t._s(s)+" ")])])})),0),e("Pie",{staticStyle:{width:"40%"},attrs:{"chart-data":t.chartData,chartOptions:t.chartOptions}})],1)},fa=[];Le["f"].register(Le["o"],Le["p"],Le["h"],Le["a"],Le["e"]);var Sa={name:"PieChart",components:{Pie:Me["b"]},computed:{...Object(R["b"])({pieStatFirm:t=>t.firmware.pieStatFirm,loading:t=>t.firmware.loading}),chartData(){return{labels:this.pieStatFirm.map(t=>`${t.username} - ${t.devices_made}`),datasets:[{label:"Пройдено ",backgroundColor:["rgba(25, 44, 140, 0.8)","rgba(15, 49, 169, 0.8)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)"],data:this.pieStatFirm.map(t=>t.devices_made)}]}}},data(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1,position:"top",align:"start",padding:20},plugins:{legend:{display:!1}}}}}},Da=Sa,wa=Object(d["a"])(Da,Ca,fa,!1,null,null,null),Fa=wa.exports,Aa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-block"},[t._m(0),e("div",{staticClass:"statistics-block__body"},[e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Общее количество прошитых блоков:")]),e("div",{staticClass:"block-gradient"},[null!==this.avgStat.totalCount?e("p",{staticClass:"text-white700 number"},[t._v(" "+t._s(this.avgStat.totalCount)+" ")]):e("p",{staticClass:"text-white700 number"},[t._v("0")])])]),e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Среднее время прошивки:")]),e("div",{staticClass:"block-gradient"},[null!==this.avgStat.avgTimeDiff?e("p",{staticClass:"text-white700 number"},[t._v(" "+t._s(this.avgStat.avgTimeDiff)+" ")]):e("p",{staticClass:"text-white700 number"},[t._v("0")])])]),e("div",{staticClass:"statistics-block__item"},[e("p",{staticClass:"fz16-text500"},[t._v("Количество запечатанных устройств:")]),e("div",{staticClass:"block-gradient"},[null!==this.avgStat.countSticker?e("p",{staticClass:"text-white700 number"},[t._v(" "+t._s(this.avgStat.countSticker)+" ")]):e("p",{staticClass:"text-white700 number"},[t._v("0")])])])])])},ka=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-block__title"},[e("p",{staticClass:"text-white700"},[t._v("Статистика работы")])])}],Ia={name:"AppFirmwareStatAvg",data(){return{}},computed:{...Object(R["b"])({avgStat:t=>t.firmware.avgStatFirm})}},xa=Ia,Ea=Object(d["a"])(xa,Aa,ka,!1,null,null,null),Ta=Ea.exports,ya={name:"AppFirmwareStatistics",data(){return{dateForTest:"",color:"#192c8c",dateForAvg:"",isActiveToday:!1,isActiveWeek:!0,isActiveMounth:!1,isActiveSelect:!1}},components:{VueDatePicker:Pe["a"],FirmwareBar:ba,FirmwareStatAvg:Ta,FirmwarePie:Fa},computed:{isComplete(){return""!=this.dateForTest},nowDate(){var t=new Date;return t.toISOString().substring(0,10)},beforeWeekDate(){var t=new Date;return new Date(t.setDate(t.getDate()-7)).toISOString().substring(0,10)},beforeMounth(){var t=new Date;return new Date(t.setDate(t.getDate()-30)).toISOString().substring(0,10)}},methods:{activeBlock(t){"today"===t?(this.isActiveToday=!0,this.isActiveWeek=!1,this.isActiveMounth=!1,this.isActiveSelect=!1):"week"===t?(this.isActiveToday=!1,this.isActiveWeek=!0,this.isActiveMounth=!1,this.isActiveSelect=!1):"mounth"===t?(this.isActiveToday=!1,this.isActiveWeek=!1,this.isActiveMounth=!0,this.isActiveSelect=!1):"select"===t&&(this.isActiveToday=!1,this.isActiveWeek=!1,this.isActiveMounth=!1,this.isActiveSelect=!0)},getDataTest(){this.$store.dispatch(Ws.getDataStatFirm,this.dateForTest).then(()=>{}).catch(t=>{console.log("Ошибка",t)}),this.$store.dispatch(Ws.getAvgDataFirm,this.dateForTest).then(()=>{}).catch(t=>{console.log("Ошибка",t)})},changeChart(t,e){this.$store.dispatch(Ws.getDataStatFirm,{end:t,start:e}).then(()=>{}).catch(t=>{console.log("Ошибка",t)}),this.$store.dispatch(Ws.getAvgDataFirm,{end:t,start:e}).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},mounted(){this.$store.dispatch(Ws.getDataStatFirm,{end:this.nowDate,start:this.beforeWeekDate}).then(()=>{}).catch(t=>{console.log("Ошибка",t)}),this.$store.dispatch(Ws.getAvgDataFirm,{end:this.nowDate,start:this.beforeWeekDate}).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},Oa=ya,Pa=(s("d649"),Object(d["a"])(Oa,ua,va,!1,null,"32db446c",null)),Ra=Pa.exports,Ua={name:"AppFirmWare",data(){return{searchIMEIs:"",currentPage:1,isActiveTest:!0,isActiveReport:!1,isActiveStatistics:!1,title:"Прошивка"}},props:{size:{type:Number,required:!1,default:10}},components:{Header:$,TableDevice:ia,FirmwareActiveReport:da,FirmwareActiveStatistics:Ra,Pagination:ws},computed:{...Object(R["b"])({allFirmware:t=>t.firmware.allFirmware,isLoading:t=>t.firmware.isLoading,token:t=>t.auth.token,infoUser:t=>t.auth.infoUser,isConnected:t=>t.socket.isConnected}),searchIMEIReact(){return this.searchIMEIs},totalPages(){return this.allFirmware!==[]?Math.ceil(this.allFirmware.length/this.size):0},paginatedData(){const t=(this.currentPage-1)*this.size,e=t+this.size;return this.allFirmware.slice(t,e)},pageCount(){if(this.allFirmware!==[]){let t=this.allFirmware.length,e=this.size;return Math.ceil(t/e)}return 0}},methods:{activeBlock(t){"test"===t?(this.isActiveTest=!0,this.isActiveReport=!1,this.isActiveStatistics=!1):"report"===t?(this.isActiveTest=!1,this.isActiveReport=!0,this.isActiveStatistics=!1):"statistics"===t&&(this.isActiveTest=!1,this.isActiveReport=!1,this.isActiveStatistics=!0)},onPageChange(t){this.currentPage=t}},watch:{searchIMEIReact(){let t=this.searchIMEIReact;""!==t?this.$store.dispatch(Ws.getSearchIMEI,t).then(()=>{}).catch(t=>{console.log("Ошибка",t)}):this.$store.dispatch(Ws.getAllFirmware).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},beforeMount(){document.title=this.title},beforeUpdate(){document.title=this.title},mounted(){"undefined"!==this.token&&""!==this.token&&null!==this.infoUser||this.$router.push({name:"Login"}),this.$store.dispatch(Ws.getAllFirmware).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},Ma=Ua,La=Object(d["a"])(Ma,Os,Ps,!1,null,null,null),$a=La.exports,Na=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile"},[e("Header",{attrs:{title:"Профиль",description:"Данные профиля"}}),e("div",{staticClass:"container-page"},[e("div",{staticClass:"profile__wrap"},[t._m(0),e("div",{staticClass:"profile__info"},[e("div",{staticClass:"profile__info-block"},[t._m(1),e("p",{staticClass:"index-text400"},[t._v(" "+t._s(t.infoUser.lastName)+" "+t._s(t.infoUser.name)+" "+t._s(t.infoUser.surname)+" ")])]),t._m(2),e("div",{staticClass:"profile__info-block"},[t._m(3),e("p",{staticClass:"index-text400"},[t._v(" "+t._s(t.infoUser.username)+" ")])])])])])],1)},Ba=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile__img"},[e("img",{attrs:{src:s("786b"),alt:"profile"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile__wrap-label"},[e("p",{staticClass:"index-text500"},[t._v("ФИО")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile__info-block"},[e("div",{staticClass:"profile__wrap-label"},[e("p",{staticClass:"index-text500"},[t._v("Телефон")])]),e("p",{staticClass:"index-number400"},[t._v("8-903-903-11-11")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile__wrap-label"},[e("p",{staticClass:"index-text500"},[t._v("Email")])])}],ja={components:{Header:$},name:"AppProfile",data(){return{title:"Профиль"}},computed:{...Object(R["b"])({infoUser:t=>t.auth.infoUser,token:t=>t.auth.token})},beforeMount(){document.title=this.title},beforeUpdate(){document.title=this.title},mounted(){"undefined"!==this.token&&""!==this.token&&null!==this.infoUser||this.$router.push({name:"Login"})}},qa=ja,Wa=Object(d["a"])(qa,Na,Ba,!1,null,null,null),za=Wa.exports,Va=function(){var t=this,e=t._self._c;return e("div",{staticClass:"device"},[e("Header",{attrs:{title:"Устройства",description:"Устройства 'Маяк-01'"}}),t.isLoading?e("div",{staticClass:"wrap-loader-2"},[e("div",{attrs:{id:"loader"}})]):t._e(),e("div",{staticClass:"container-page"},[e("div",{staticClass:"data-tab"},[e("div",{staticClass:"data-tab__wrap"},[e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveBlock},on:{click:function(e){return t.TabActiveBlock("block")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveBlock}},[t._v(" Блоки ")])]),e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveReport},on:{click:function(e){return t.TabActiveBlock("report")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveReport}},[t._v(" Отчеты ")])]),e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveStatistics},on:{click:function(e){return t.TabActiveBlock("statistics")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveStatistics}},[t._v(" Статистика ")])])])]),this.isActiveBlock?e("div",{staticClass:"device__search-wrap"},[this.isActiveCCID?e("div",{staticClass:"device__search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCCID,expression:"searchCCID"}],staticClass:"testing__input number",attrs:{type:"text",placeholder:"Поиск по CCID"},domProps:{value:t.searchCCID},on:{input:function(e){e.target.composing||(t.searchCCID=e.target.value)}}}),e("img",{staticClass:"device__input-svg",attrs:{src:s("0a17"),alt:"search"}})]):t._e(),this.isActiveIMEI?e("div",{staticClass:"device__search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchIMEI,expression:"searchIMEI"}],staticClass:"testing__input number",attrs:{type:"text",placeholder:"Поиск по IMEI"},domProps:{value:t.searchIMEI},on:{input:function(e){e.target.composing||(t.searchIMEI=e.target.value)}}}),e("img",{staticClass:"device__input-svg",attrs:{src:s("0a17"),alt:"search"}})]):t._e(),e("div",{staticClass:"data-tab"},[e("div",{staticClass:"device__data-tab"},[e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveCCID},on:{click:function(e){return t.activeBlock("CCID")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveCCID}},[t._v(" Поиск по CCID ")])]),e("div",{staticClass:"data-tab__btn",class:{"active-btn":this.isActiveIMEI},on:{click:function(e){return t.activeBlock("IMEI")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveIMEI}},[t._v(" Поиск по IMEI ")])])])])]):t._e(),this.isActiveBlock?e("div",{staticClass:"device-block__list"},t._l(this.allDevice,(function(t,s){return e("item-device",{key:s,attrs:{device_item:t}})})),1):t._e(),this.isActiveReport?e("div",{staticClass:"testing__report-container"},[e("device-active-report")],1):t._e(),this.isActiveStatistics?e("div",{staticClass:"testing__statistics-container"},[e("device-active-statistics")],1):t._e()])],1)},Ka=[],Ga=function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-block__column"},[e("div",{staticClass:"device-block__item"},[e("div",{staticClass:"mini-menu",class:{"open-menu":t.isOpenMiniMenu}},[e("div",{staticClass:"mini-menu__svg",on:{click:t.openMiniMenu}},[e("img",{attrs:{src:s("247c"),alt:"cross"}})]),e("div",{staticClass:"mini-menu__wrap"},[e("ul",{staticClass:"dropdown-menu"},[e("li",{on:{click:t.openTestingPage}},[e("p",{staticClass:"dropdown-menu__link"},[t._v("Информация о тестировании")])]),t._m(0)])])]),e("div",{staticClass:"device-block__info"},[e("div",{staticClass:"device-block__pdf",on:{click:t.downloadFile}},[t._m(1),e("div",{staticClass:"report__download-text"},[t._v("Скачать PDF")])]),e("div",{staticClass:"device-block__text"},[t._m(2),e("div",{staticClass:"device-block__description"},[e("p",{staticClass:"index-text400 number"},[t._v(t._s(t.device_item.imei))])])]),e("div",{staticClass:"device-block__text"},[t._m(3),e("div",{staticClass:"device-block__description"},[e("p",{staticClass:"index-text400 number"},[t._v(t._s(t.device_item.serial))])])]),e("div",{staticClass:"device-block__text"},[t._m(4),e("div",{staticClass:"device-block__description"},[e("p",{staticClass:"index-text400"},[t._v(t._s(t.device_item.firmwareFio))])])]),e("div",{staticClass:"device-block__text"},[t._m(5),e("div",{staticClass:"device-block__description"},[e("p",{staticClass:"index-text400"},[t._v(t._s(t.device_item.testFio))])])])]),e("div",{staticClass:"device-block__btn-wrap"},[e("div",{staticClass:"device-block__btn"},[e("button",{staticClass:"index-btn lite-index-color",attrs:{type:"button"},on:{click:t.openTestingPage}},[t._v(" Подробная информация ")])])]),e("div",{staticClass:"device-block__kod"},[t._m(6),e("div",{staticClass:"device-block__kod-img"},[e("barcode",{staticClass:"barcode device-block__kod-svg",attrs:{value:t.device_item.ccid}})],1)])])])},Za=[function(){var t=this,e=t._self._c;return e("li",[e("p",{staticClass:"dropdown-menu__link"},[t._v("Информация о прошивке")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"report__download-icon",attrs:{tooltip:"Скачать"}},[e("img",{attrs:{src:s("8215"),alt:"download"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-block__title"},[e("p",{staticClass:"label-for-input"},[t._v("IMEI:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-block__title"},[e("p",{staticClass:"label-for-input"},[t._v("Серийный номер:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-block__title"},[e("p",{staticClass:"label-for-input"},[t._v("Прошивал(-a):")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-block__title"},[e("p",{staticClass:"label-for-input"},[t._v("Тестировал(-a):")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-block__title"},[e("p",{staticClass:"label-for-input"},[t._v("CCID:")])])}],Ha=s("f579"),Ja=s.n(Ha);const Xa=()=>A.get("/all_device"),Ya=t=>A.get("search_device_imei/"+t),Qa=t=>A.get("search_device_ccid/"+t),ti=t=>A.get("/getAllInfoAboutDevice?imei="+t),ei=t=>A.post("/device/get_data_to_date",t),si=t=>A.post("/device/export_excel",t,{responseType:"blob"}),ai=t=>A.post("/device/download/report",t,{responseType:"blob"}),ii=t=>A.post("/device/download/pdf",t,{responseType:"blob"}),ri=t=>A.post("/device/get_stat",t);var oi={getAllDevice:Xa,searchIMEI:Ya,searchCCID:Qa,getAllTestForDevice:ti,getDateReportDevice:ei,downloadFileDevice:si,getDataStatDevice:ri,downloadZipDevice:ai,downloadPdfDeviceItem:ii};const ci={isLoading:!1,validationErrors:null,allDevice:[],imeiInfoAboutTesting:[],imeiInfoAboutFirmware:[],dataReportDevice:[],dataBarStatDevice:[]},li={getAllDeviceStart:"[device] getAllDeviceStart",getAllDeviceSuccess:"[device] getAllDeviceSuccess",getAllDeviceFailure:"[device] getAllDeviceFailure",searchIMEIStart:"[device] searchIMEIStart",searchIMEISuccess:"[device] searchIMEISuccess",searchIMEIFailure:"[device] searchIMEIFailure",searchCCIDStart:"[device] searchCCIDStart",searchCCIDSuccess:"[device] searchCCIDSuccess",searchCCIDFailure:"[device] searchCCIDFailure",getAllTestForDeviceStart:"[device] getAllTestForDeviceStart",getAllTestForDeviceSuccess:"[device] getAllTestForDeviceSuccess",getAllTestForDeviceFailure:"[device] getAllTestForDeviceFailure",getDateReportDeviceStart:"[device] getDateReportDeviceStart",getDateReportDeviceSuccess:"[device]  getDateReportDeviceSuccess",getDateReportDeviceFailure:"[device]  getDateReportDeviceFailure",downloadFileDeviceStart:"[device]  downloadFileDeviceStart",downloadFileDeviceSuccess:"[device]   downloadFileDeviceSuccess",downloadFileDeviceFailure:"[device]   downloadFileDeviceFailure",downloadZipDeviceStart:"[device]  downloadZipDeviceStart",downloadZipDeviceSuccess:"[device]   downloadZipDeviceSuccess",downloadZipDeviceFailure:"[device]   downloadZipDeviceFailure",downloadPdfDeviceItemStart:"[device]  downloadPdfDeviceItemStart",downloadPdfDeviceItemSuccess:"[device]  downloadPdfDeviceItemSuccess",downloadPdfDeviceItemFailure:"[device]   downloadPdfDeviceItemFailure",getDataStatDeviceStart:"[device]  getDataStatDeviceStart",getDataStatDeviceSuccess:"[device]  getDataStatDeviceSuccess",getDataStatDeviceFailure:"[device]   getDataStatDeviceFailure"},ni={getAllDevice:"[device] getAllDevice",searchIMEI:"[device] searchIMEI",searchCCID:"[device] searchCCID",getAllTestForDevice:"[device] getAllTestForDevice",getDateReportDevice:"[device] getDateReportDevice",downloadFileDevice:"[device] downloadFileDevice",downloadZipDevice:"[device] downloadZipDevice",downloadPdfDeviceItem:"[device] downloadPdfDeviceItem",getDataStatDevice:"[device] getDataStatDevice"},di={[li.getAllDeviceStart](t){t.validationErrors=null,t.isLoading=!0},[li.getAllDeviceSuccess](t,e){t.isLoading=!1,t.allDevice=e.result},[li.getAllDeviceFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.searchIMEIStart](t){t.validationErrors=null,t.isLoading=!0},[li.searchIMEISuccess](t,e){t.isLoading=!1,t.allDevice=e.result},[li.searchIMEIFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.searchCCIDStart](t){t.validationErrors=null,t.isLoading=!0},[li.searchCCIDSuccess](t,e){t.isLoading=!1,t.allDevice=e.result},[li.searchCCIDFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.getAllTestForDeviceStart](t){t.validationErrors=null,t.isLoading=!0},[li.getAllTestForDeviceSuccess](t,e){t.isLoading=!1,t.imeiInfoAboutTesting=e.result.testResponses,t.imeiInfoAboutFirmware=e.result.deviceResponse},[li.getAllTestForDeviceFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.getDateReportDeviceStart](t){t.validationErrors=null,t.isLoading=!0},[li.getDateReportDeviceSuccess](t,e){t.isLoading=!1,t.dataReportDevice=e.result},[li.getDateReportDeviceFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.downloadFileDeviceStart](t){t.validationErrors=null,t.isLoading=!0},[li.downloadFileDeviceSuccess](t){t.isLoading=!1},[li.downloadFileDeviceFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.downloadZipDeviceStart](t){t.validationErrors=null,t.isLoading=!0},[li.downloadZipDeviceSuccess](t){t.isLoading=!1},[li.downloadZipDeviceFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.downloadPdfDeviceItemStart](t){t.validationErrors=null,t.isLoading=!0},[li.downloadPdfDeviceItemSuccess](t){t.isLoading=!1},[li.downloadPdfDeviceItemFailure](t,e){t.validationErrors=e.message,t.isLoading=!1},[li.getDataStatDeviceStart](t){t.validationErrors=null,t.isLoading=!0},[li.getDataStatDeviceSuccess](t,e){t.isLoading=!1,t.dataBarStatDevice=e.result},[li.getDataStatDeviceFailure](t,e){t.validationErrors=e.message,t.isLoading=!1}},ui={[ni.getAllDevice](t){return new Promise(e=>{t.commit(li.getAllDeviceStart),oi.getAllDevice().then(s=>{"SUCCESS"===s.data.status?(t.commit(li.getAllDeviceSuccess,s.data),e(s.data)):t.commit(li.getAllDeviceFailure,s.data)}).catch(e=>{t.commit(li.getAllDeviceFailure,e),console.log("ошибка",e)})})},[ni.searchIMEI](t,e){return new Promise(s=>{t.commit(li.searchIMEIStart),oi.searchIMEI(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(li.searchIMEISuccess,e.data),s(e.data)):t.commit(li.searchIMEIFailure,e.data)}).catch(e=>{t.commit(li.searchIMEIFailure,e),console.log("ошибка",e)})})},[ni.searchCCID](t,e){return new Promise(s=>{t.commit(li.searchCCIDStart),oi.searchCCID(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(li.searchCCIDSuccess,e.data),s(e.data)):t.commit(li.searchCCIDFailure,e.data)}).catch(e=>{t.commit(li.searchCCIDFailure,e),console.log("ошибка",e)})})},[ni.getAllTestForDevice](t,e){return new Promise(s=>{t.commit(li.getAllTestForDeviceStart),oi.getAllTestForDevice(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(li.getAllTestForDeviceSuccess,e.data),s(e.data)):t.commit(li.getAllTestForDeviceFailure,e.data)}).catch(e=>{t.commit(li.getAllTestForDeviceFailure,e),console.log("ошибка",e)})})},[ni.getDateReportDevice](t,e){return new Promise(s=>{t.commit(li.getDateReportDeviceStart),oi.getDateReportDevice(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(li.getDateReportDeviceSuccess,e.data),s(e.data)):t.commit(li.getDateReportDeviceFailure,e.data)}).catch(e=>{t.commit(li.getDateReportDeviceFailure,e),console.log("ошибка",e)})})},[ni.downloadFileDevice](t,e){return new Promise(s=>{t.commit(li.downloadFileDeviceStart),oi.downloadFileDevice(e).then(e=>{t.commit(li.downloadFileDeviceSuccess,e),s(e)}).catch(e=>{t.commit(li.downloadFileDeviceFailure,e),console.log("ошибка",e)})})},[ni.downloadZipDevice](t,e){return new Promise(s=>{t.commit(li.downloadZipDeviceStart),oi.downloadZipDevice(e).then(e=>{t.commit(li.downloadZipDeviceSuccess,e),s(e)}).catch(e=>{t.commit(li.downloadZipDeviceFailure,e),console.log("ошибка",e)})})},[ni.downloadPdfDeviceItem](t,e){return new Promise(s=>{t.commit(li.downloadPdfDeviceItemStart),oi.downloadPdfDeviceItem(e).then(e=>{t.commit(li.downloadPdfDeviceItemSuccess,e),s(e)}).catch(e=>{t.commit(li.downloadPdfDeviceItemFailure,e),console.log("ошибка",e)})})},[ni.getDataStatDevice](t,e){return new Promise(s=>{t.commit(li.getDataStatDeviceStart),oi.getDataStatDevice(e).then(e=>{"SUCCESS"===e.data.status?(t.commit(li.getDataStatDeviceSuccess,e.data),s(e.data)):t.commit(li.getDataStatDeviceFailure,e.data)}).catch(e=>{t.commit(li.getDataStatDeviceFailure,e),console.log("ошибка",e)})})}};var vi={state:ci,mutations:di,actions:ui},mi={name:"AppItemDevice",data(){return{isOpenMiniMenu:!1}},props:{device_item:{type:Object,default(){return{}}}},methods:{openMiniMenu(){this.isOpenMiniMenu=!this.isOpenMiniMenu},openTestingPage(){this.$router.push({path:"/information/"+this.device_item.imei})},downloadFile(){this.$store.dispatch(ni.downloadPdfDeviceItem,{imei:this.device_item.imei}).then(t=>{console.log(t,"response PDF");const e=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=e;const a=this.device_item.imei+".pdf";s.setAttribute("download",a),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(e)}).catch(t=>{console.log("Ошибка",t)})}},components:{barcode:Ja.a},mounted(){}},pi=mi,gi=Object(d["a"])(pi,Ga,Za,!1,null,null,null),hi=gi.exports,_i=function(){var t=this,e=t._self._c;return e("div",{},[e("div",{staticClass:"report"},[e("div",{staticClass:"report__title"},[t._v("Для создания отчета выберите даты")]),t.isSubmiting&&this.dataReportDevice.length?e("div",{staticClass:"report__wrap-download",on:{click:t.downloadFile}},[t._m(0),e("div",{staticClass:"report__download-text"},[t._v("Скачать документ")])]):t._e(),e("div",{staticClass:"report__block-wrap"},[e("div",{staticClass:"report__block"},[e("VueDatePicker",{staticClass:"number",attrs:{range:"",validate:"",color:this.color,placeholder:"Выберите даты"},scopedSlots:t._u([{key:"day",fn:function({day:s}){return[e("span",{staticClass:"number"},[t._v(" "+t._s(s)+" ")])]}}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e("div",{staticClass:"report__block-type"},[e("label",{staticClass:"label-for-input",attrs:{for:"role"}},[t._v("Выберите тип отчета:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.typeReport,expression:"typeReport"}],staticClass:"select",attrs:{name:"typeReport",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.typeReport=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"ALL"}},[t._v("Общий отчет")]),e("option",{attrs:{value:"RELEASE"}},[t._v("EXCEL Отчет по готовым блокам")]),e("option",{attrs:{value:"PDF"}},[t._v("PDF отчет по результатам испытаний")])])]),e("div",{staticClass:"report__btn"},[e("button",{staticClass:"index-btn lite-color",attrs:{type:"button",disabled:!t.isComplete},on:{click:t.createReport}},[t._v(" Создать отчет ")])])]),t.isSubmiting?e("div",{staticClass:"device-block__list"},[this.dataReportDevice.length?t._l(this.dataReportDevice,(function(t,s){return e("item-device",{key:s,attrs:{device_item:t}})})):e("div",{staticClass:"error"},[e("p",{staticClass:"error-text"},[t._v("Не найдено")])])],2):t._e()])])},bi=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"report__download-icon",attrs:{tooltip:"Скачать"}},[e("img",{attrs:{src:s("8215"),alt:"download"}})])}],Ci={name:"AppDeviceActiveReport",data(){return{color:"#192c8c",date:"",currentPage:1,pageNumber:0,isSubmiting:!1,typeReport:"",imei:""}},props:{size:{type:Number,required:!1,default:10}},components:{VueDatePicker:Pe["a"],ItemDevice:hi},computed:{...Object(R["b"])({dataReportDevice:t=>t.device.dataReportDevice}),isComplete(){return""!=this.date&&""!==this.typeReport},totalPages(){return this.dataReport!==[]?Math.ceil(this.dataReportFirm.length/this.size):0},paginatedData(){const t=(this.currentPage-1)*this.size,e=t+this.size;return this.dataReportFirm.slice(t,e)},pageCount(){if(this.dataReportFirm!==[]){let t=this.dataReportFirm.length,e=this.size;return Math.ceil(t/e)}return 0}},methods:{downloadFile(){const t={start:this.date.start,end:this.date.end,type:this.typeReport};"PDF"==this.typeReport?(console.log("КАЧ PDF"),this.$store.dispatch(ni.downloadZipDevice,t).then(e=>{console.log(e,"response ZIP");const s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i=`${t.start}-${t.end}.zip`;a.setAttribute("download",i),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s)}).catch(t=>{console.log("Ошибка",t)})):this.$store.dispatch(ni.downloadFileDevice,t).then(t=>{const e=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.ms-excel"}));var s=`Отчет по блокам ${this.date.start} - ${this.date.end}`;const a=document.createElement("a");a.href=e,a.setAttribute("download",s),document.body.appendChild(a),a.click()}).catch(t=>{console.log("Ошибка",t)})},createReport(){this.$store.dispatch(ni.getDateReportDevice,this.date).then(()=>{this.isSubmiting=!0}).catch(t=>{console.log("Ошибка",t)})},onPageChange(t){this.currentPage=t}}},fi=Ci,Si=Object(d["a"])(fi,_i,bi,!1,null,null,null),Di=Si.exports,wi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"testing__statistics-container-wrap"},[e("div",{staticClass:"statistics-bar-report__data-tab"},[t._m(0),e("div",{staticClass:"statistics-bar-report__fillter"},[e("div",{staticClass:"statistics-bar-report__btn"},[e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveToday},on:{click:function(e){t.changeChart(t.nowDate,t.nowDate),t.activeBlock("today")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveToday}},[t._v(" Сегодня ")])]),e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveWeek},on:{click:function(e){t.changeChart(t.nowDate,t.beforeWeekDate),t.activeBlock("week")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveWeek}},[t._v(" За 7 дней ")])]),e("div",{staticClass:"data-tab__btn-with-border",class:{"active-btn":this.isActiveMounth},on:{click:function(e){t.changeChart(t.nowDate,t.beforeMounth),t.activeBlock("mounth")}}},[e("p",{staticClass:"data-tab__text",class:{"active-text":this.isActiveMounth}},[t._v(" За 30 дней ")])])]),e("div",{staticClass:"statistics-bar-report__block"},[e("VueDatePicker",{staticClass:"number custom__button",class:{"active-btn":this.isActiveSelect},attrs:{range:"",validate:"",color:this.color,placeholder:"Выберите диапазон дат"},on:{onChange:function(e){t.getDataTest(),t.activeBlock("select")}},scopedSlots:t._u([{key:"day",fn:function({day:s}){return[e("span",{staticClass:"number custom__button"},[t._v(" "+t._s(s)+" ")])]}}]),model:{value:t.dateForTest,callback:function(e){t.dateForTest=e},expression:"dateForTest"}})],1)])]),e("div",{staticClass:"statistics__wrap"},[e("div",{staticClass:"statistics-avg"},[e("div",{},[t._m(1),e("device-bar")],1)])])])},Fi=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar-report__title"},[e("p",{staticClass:"statistics-bar__title-text"},[t._v("Фильтрация")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-bar__wrap"},[e("div",{staticClass:"statistics-bar__title"},[e("p",{staticClass:"statistics-bar__description"},[t._v("статистика")]),e("p",{staticClass:"statistics-bar__title-text"},[t._v(" Количество готовых устройств за период ")])]),e("div",{staticClass:"statistics-bar-report__block-wrap"},[e("div",{staticClass:"statistics-bar-report__date"})])])}],Ai=function(){var t=this,e=t._self._c;return e("Bar",{attrs:{"chart-data":t.chartData,chartOptions:t.chartOptions}})},ki=[];Le["f"].register(Le["o"],Le["p"],Le["h"],Le["c"],Le["e"],Le["j"]);var Ii={name:"BarChartDevice",data(){return{chartOptions:{legend:{display:!1},plugins:{legend:{display:!1}},scales:{x:{ticks:{autoSkip:!1,maxRotation:90,minRotation:90}}}}}},components:{Bar:Me["a"]},computed:{...Object(R["b"])({dataBarStatDevice:t=>t.device.dataBarStatDevice,loading:t=>t.testing.loading}),chartData(){return{labels:this.dataBarStatDevice.map(t=>t.date),datasets:[{label:"Готовых устройств",barPercentage:.5,barThickness:100,maxBarThickness:40,minBarLength:2,backgroundColor:["rgba(25, 44, 140, 0.8)","rgba(15, 49, 169, 0.8)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)","rgba(15, 40, 169, 0.5)","rgba(147, 170, 252, 0.8)","rgba(198, 210, 253, 0.8)","rgba(229, 234, 252, 0.8)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(25, 44, 140)","rgb(15, 49, 169)","rgb(15, 49, 169)","rgb(147, 170, 252)","rgb(198, 210, 253)","rgb(229, 234, 252)","rgb(201, 203, 207)","rgb(15, 49, 169)","rgb(147, 170, 252)","rgb(198, 210, 253)","rgb(229, 234, 252)","rgb(201, 203, 207)"],borderWidth:2,borderRadius:5,data:this.dataBarStatDevice.map(t=>t.counter),pointRadius:10}]}}}},xi=Ii,Ei=Object(d["a"])(xi,Ai,ki,!1,null,null,null),Ti=Ei.exports,yi={name:"AppDeviceStatistics",data(){return{dateForTest:"",color:"#192c8c",dateForAvg:"",isActiveToday:!1,isActiveWeek:!0,isActiveMounth:!1,isActiveSelect:!1}},components:{VueDatePicker:Pe["a"],DeviceBar:Ti},computed:{isComplete(){return""!=this.dateForTest},nowDate(){var t=new Date;return t.toISOString().substring(0,10)},beforeWeekDate(){var t=new Date;return new Date(t.setDate(t.getDate()-7)).toISOString().substring(0,10)},beforeMounth(){var t=new Date;return new Date(t.setDate(t.getDate()-30)).toISOString().substring(0,10)}},methods:{activeBlock(t){"today"===t?(this.isActiveToday=!0,this.isActiveWeek=!1,this.isActiveMounth=!1,this.isActiveSelect=!1):"week"===t?(this.isActiveToday=!1,this.isActiveWeek=!0,this.isActiveMounth=!1,this.isActiveSelect=!1):"mounth"===t?(this.isActiveToday=!1,this.isActiveWeek=!1,this.isActiveMounth=!0,this.isActiveSelect=!1):"select"===t&&(this.isActiveToday=!1,this.isActiveWeek=!1,this.isActiveMounth=!1,this.isActiveSelect=!0)},getDataTest(){this.$store.dispatch(ni.getDataStatDevice,this.dateForTest).then(()=>{}).catch(t=>{console.log("Ошибка",t)})},changeChart(t,e){this.$store.dispatch(ni.getDataStatDevice,{end:t,start:e}).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},mounted(){this.$store.dispatch(ni.getDataStatDevice,{end:this.nowDate,start:this.beforeWeekDate}).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},Oi=yi,Pi=(s("f821"),Object(d["a"])(Oi,wi,Fi,!1,null,"f925a8b2",null)),Ri=Pi.exports,Ui={components:{Header:$,ItemDevice:hi,DeviceActiveReport:Di,DeviceActiveStatistics:Ri},name:"AppDevice",data(){return{searchCCID:"",searchIMEI:"",isActiveIMEI:"",isActiveCCID:!0,isActiveBlock:!0,isActiveReport:!1,isActiveStatistics:!1}},computed:{...Object(R["b"])({allDevice:t=>t.device.allDevice,isLoading:t=>t.device.isLoading,token:t=>t.auth.token,infoUser:t=>t.auth.infoUser,isConnected:t=>t.socket.isConnected}),searchCCIDReact(){return this.searchCCID},searchIMEIReact(){return this.searchIMEI}},watch:{searchIMEIReact(){let t=this.searchIMEIReact;""!==t?this.$store.dispatch(ni.searchIMEI,t).then(()=>{}).catch(t=>{console.log("Ошибка",t)}):this.$store.dispatch(ni.getAllDevice).then(()=>{}).catch(t=>{console.log("Ошибка",t)})},searchCCIDReact(){let t=this.searchCCIDReact;""!==t?this.$store.dispatch(ni.searchCCID,t).then(()=>{}).catch(t=>{console.log("Ошибка",t)}):this.$store.dispatch(ni.getAllDevice).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},methods:{activeBlock(t){"CCID"===t?(this.isActiveCCID=!0,this.isActiveIMEI=!1,this.searchCCID=""):"IMEI"===t&&(this.isActiveCCID=!1,this.isActiveIMEI=!0,this.searchIMEI="")},TabActiveBlock(t){"block"===t?(this.isActiveBlock=!0,this.isActiveReport=!1,this.isActiveStatistics=!1):"report"===t?(this.isActiveBlock=!1,this.isActiveReport=!0,this.isActiveStatistics=!1):"statistics"===t&&(this.isActiveBlock=!1,this.isActiveReport=!1,this.isActiveStatistics=!0)}},mounted(){"undefined"!==this.token&&""!==this.token&&null!==this.infoUser||this.$router.push({name:"Login"}),this.$store.dispatch(ni.getAllDevice).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},Mi=Ui,Li=Object(d["a"])(Mi,Va,Ka,!1,null,null,null),$i=Li.exports,Ni=function(){var t=this,e=t._self._c;return e("div",{staticClass:"information"},[e("Header",{attrs:{title:"Информация о блоке",imei:this.$route.params.imei,description:"История блока"}}),t.isLoading?e("div",{staticClass:"wrap-loader-2"},[e("div",{attrs:{id:"loader"}})]):t._e(),e("div",{staticClass:"container-page"},[t._l(this.imeiInfoAboutFirmware,(function(s){return e("div",{key:s.id,staticClass:"information__block"},[e("div",{staticClass:"testing__table-container"},[t._m(0,!0),e("div",{staticClass:"information__block-info"},[e("p",{staticClass:"fz16-text500 margin-right10"},[t._v("Серийный номер:")]),e("p",{staticClass:"number"},[t._v(t._s(s.serial))])]),e("div",{staticClass:"information__block-info"},[e("p",{staticClass:"fz16-text500 margin-right10"},[t._v(" Ответственный по наклейке: ")]),e("p",{staticClass:"number"},[t._v(t._s(s.stickerFio))])]),e("div",{staticClass:"information__block-info"},[e("p",{staticClass:"fz16-text500 margin-right10"},[t._v("CCID:")]),e("barcode",{staticClass:"barcode device-block__kod-svg",attrs:{value:s.ccid}})],1)])])})),e("div",{staticClass:"information__about-test"},[e("div",{staticClass:"testing__table-container"},[t._m(1),e("TableTesting",{attrs:{imei:t.searchIMEIs,pagination_data:this.imeiInfoAboutTesting}})],1)]),e("div",{staticClass:"information__about-firmware"},[e("div",{staticClass:"testing__table-container"},[t._m(2),e("TableDevice",{attrs:{imei:t.searchIMEIs,pagination_data:this.imeiInfoAboutFirmware}})],1)])],2)],1)},Bi=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap-title"},[e("p",{staticClass:"title index-mini-title"},[t._v("Информация о блоке")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap-title"},[e("p",{staticClass:"title index-mini-title"},[t._v("История тестирования блока")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap-title"},[e("p",{staticClass:"title index-mini-title"},[t._v("Прошивка блока")])])}],ji={name:"AppTestingIMEI",data(){return{title:"Информация",color:"#192c8c",searchIMEIs:""}},props:{size:{type:Number,required:!1,default:10}},components:{Header:$,TableTesting:_e,TableDevice:ia,barcode:Ja.a},computed:{...Object(R["b"])({imeiInfoAboutTesting:t=>t.device.imeiInfoAboutTesting,imeiInfoAboutFirmware:t=>t.device.imeiInfoAboutFirmware,isLoading:t=>t.device.isLoading,token:t=>t.auth.token,infoUser:t=>t.auth.infoUser,isConnected:t=>t.socket.isConnected})},methods:{onPageChange(t){this.currentPage=t}},beforeMount(){document.title=this.title},beforeUpdate(){document.title=this.title},mounted(){"undefined"!==this.token&&""!==this.token&&null!==this.infoUser||this.$router.push({name:"Login"}),this.$store.dispatch(ni.getAllTestForDevice,this.$route.params.imei).then(()=>{}).catch(t=>{console.log("Ошибка",t)})}},qi=ji,Wi=Object(d["a"])(qi,Ni,Bi,!1,null,null,null),zi=Wi.exports;a["a"].use(_["a"]);const Vi=[{path:"/",name:"Users",component:Xt,meta:{Sidebar:!0}},{path:"/login",name:"Login",component:ae,meta:{Sidebar:!1}},{path:"/testing",name:"Testing",component:ys,meta:{Sidebar:!0}},{path:"/information/:imei",name:"InformationIMEI",component:zi,meta:{Sidebar:!0}},{path:"/firmware",name:"Firmware",component:$a,meta:{Sidebar:!0}},{path:"/device",name:"Device",component:$i,meta:{Sidebar:!0}},{path:"/profile",name:"Profile",component:za,meta:{Sidebar:!0}}],Ki=new _["a"]({mode:"history",base:"/",routes:Vi});var Gi=Ki,Zi=s("cc7d"),Hi=s.n(Zi),Ji=s("c6e1"),Xi=s.n(Ji);const Yi="http://40y.ncspu.ru/ws",Qi={isConnected:!1,message:{},messageDimmer:{},reconnectError:!1,stompClient:null,recInterval:null},tr=function(){if(!Qi.isConnected){var t=new Hi.a(Yi);Qi.stompClient=Xi.a.over(t,{debug:!1});var e={"user-id":P.state.infoUser.id};Qi.stompClient.connect(e,t=>{console.log(t,"Соединение восстановлено"),Qi.recInterval=null,Qi.isConnected=!0,Qi.stompClient.subscribe("/topic/testing",t=>{console.log("Подписка на тестирование");const e=JSON.parse(t.body);let s=Te.state.allTests.find(t=>t.id===e.id);if(console.log(s,"Найденный элемент"),s){console.log("Заменил тестирование");var a=Te.state.allTests.indexOf(s);Te.state.allTests.splice(a,1),Te.state.allTests.unshift(e)}else console.log("Добавил тестирование"),Te.state.allTests.unshift(e)}),Qi.stompClient.subscribe("/user/queue/firmware",t=>{console.log("Подписка на прошивку",t);const e=JSON.parse(t.body);let s=Ks.state.allDevice.find(t=>t.id===e.id);if(s){console.log("Заменил прошивку");var a=Ks.state.allDevice.indexOf(s);Ks.state.allDevice.splice(a,1),Ks.state.allDevice.unshift(e)}else console.log("Добавил прошивку"),Ks.state.allDevice.unshift(e)})},t=>{Qi.isConnected=!1,console.log(t,"❌ Socket Error!!!")})}},er={SOCKET_ONOPEN:"✅ Socket connected!",SOCKET_ONCLOSE:"❌ Socket disconnected!",SOCKET_ONCLOSE_EXIT:"❌ Socket disconnected exit!",SOCKET_ONERROR:"❌ Socket Error!!!",SOCKET_SENDMESSAGE:"Socket Send Message",SOCKET_ONMESSAGE_TESTING:"Websocket message received TESTING",SOCKET_ONMESSAGE_FIRMWARE:"Websocket message received FIRMWARE",SOCKET_RECONNECT:"Websocket reconnected",SOCKET_RECONNECT_ERROR:"Websocket is having issues reconnecting.."},sr={socketConnect:"[socket] socketConnect",socketAsseptMessage:"[socket] socketAsseptMessage",socketClose:"[socket] socketClose"},ar={[er.SOCKET_ONMESSAGE_TESTING](t,e){console.log(e,"это тик приходит");let s=Te.state.allTests.find(t=>t.id===e.id);if(console.log(s,"Найденный элемент"),s){console.log("Заменил тестирование");var a=Te.state.allTests.indexOf(s);Te.state.allTests.splice(a,1),Te.state.allTests.unshift(e)}else console.log("Добавил тестирование"),Te.state.allTests.unshift(e)},[er.SOCKET_ONMESSAGE_FIRMWARE](t,e){console.log(e,"это тик приходит");let s=Ks.state.allDevice.find(t=>t.id===e.id);if(s){var a=Ks.state.allDevice.indexOf(s);console.log("Заменил прошивку"),Ks.state.allDevice.splice(a,1),Ks.state.allDevice.unshift(e)}else console.log("Добавил прошивку"),Ks.state.allDevice.unshift(e)},[er.SOCKET_ONOPEN](t){t.isConnected=!0,console.log("✅ Socket connected!")},[er.SOCKET_ONCLOSE](t,e){t.isConnected=!1,console.log(e,"❌ Socket disconnected!"),t.recInterval=window.setInterval((function(){tr()}),5e3),console.log(e,"❌ Socket disconnected!")},[er.SOCKET_ONERROR](t){Qi.isConnected=!1,console.log(t)},[er.SOCKET_RECONNECT](t,e){console.info(t,e)},[er.SOCKET_RECONNECT_ERROR](t){t.socket.reconnectError=!0},[er.SOCKET_ONCLOSE_EXIT](t){t.isConnected=!1,t.socket.onclose=function(){console.log(event,"❌ Socket disconnected exit!")},t.stompClient.disconnect()}},ir={[sr.socketClose](t){t.commit(er.SOCKET_ONCLOSE_EXIT)},[sr.socketConnect](t,e){if(!Qi.isConnected){console.log("Начал попытку соединения..."),this.socket=new Hi.a(Yi),Qi.stompClient=Xi.a.over(this.socket,{debug:!1});var s={"user-id":e};Qi.stompClient.connect(s,()=>{t.commit(er.SOCKET_ONOPEN),Qi.stompClient.subscribe("/topic/testing",e=>{console.log("Подписка на тестирование",e),e.ack();const s=JSON.parse(e.body);t.commit(er.SOCKET_ONMESSAGE_TESTING,s)},{ack:"client"}),Qi.stompClient.subscribe("/user/queue/firmware",e=>{e.ack(),console.log("Подписка на прошивку",e);const s=JSON.parse(e.body);t.commit(er.SOCKET_ONMESSAGE_FIRMWARE,s)},{ack:"client"})},e=>{console.log(e,"❌ Socket Error!!!"),t.commit(er.SOCKET_ONCLOSE)})}}};var rr={state:Qi,mutations:ar,actions:ir};a["a"].use(R["a"]);var or=new R["a"].Store({state:{},mutations:{},actions:{},modules:{auth:P,users:et,testing:Te,socket:rr,firmware:Ks,device:vi}}),cr=s("1dce"),lr=s.n(cr);s("7ce0"),s("78a7");a["a"].use(Pe["b"]),a["a"].use(Pe["b"],{lang:"Rus"}),a["a"].use(q.a),a["a"].use(lr.a),a["a"].config.productionTip=!1,new a["a"]({router:Gi,store:or,render:t=>t(h)}).$mount("#app")},5803:function(t,e,s){t.exports=s.p+"img/OK.2154e2fe.svg"},"63b5":function(t,e,s){},"6e8b":function(t,e,s){t.exports=s.p+"img/user-mini.2c24a87d.svg"},"786b":function(t,e,s){t.exports=s.p+"img/Profile.65fb42b8.svg"},"78a7":function(t,e,s){},8215:function(t,e,s){t.exports=s.p+"img/download.07f1d77b.svg"},8604:function(t,e,s){t.exports=s.p+"img/chip1.ffcb585b.svg"},8852:function(t,e,s){"use strict";s("3c48")},9961:function(t,e,s){t.exports=s.p+"img/trash.6ff87cc1.svg"},"9ac1":function(t,e,s){},"9dc8":function(t,e,s){"use strict";s("9ac1")},"9e86":function(t,e,s){},a5f7:function(t,e,s){t.exports=s.p+"img/logo.ed80baac.svg"},ba14:function(t,e,s){t.exports=s.p+"img/CROSS.efaca607.svg"},c9b6:function(t,e,s){"use strict";s("9e86")},d50b:function(t,e,s){t.exports=s.p+"img/testing.181c4a6f.svg"},d649:function(t,e,s){"use strict";s("0165")},dbd7:function(t,e,s){t.exports=s.p+"img/questions.66d7b76a.svg"},ec4e:function(t,e,s){t.exports=s.p+"img/error.926bd5db.svg"},f821:function(t,e,s){"use strict";s("63b5")}});
//# sourceMappingURL=app.fe4fc8ca.js.map